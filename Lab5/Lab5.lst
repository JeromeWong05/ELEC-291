0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1170 (Feb 16 2022) (MSVC)
0000              4   ; This file was generated Tue Mar 04 16:52:04 2025
0000              5   ;--------------------------------------------------------
                  5   $name Lab5
                  6   $optc51 --model-small
                  7   $printf_float
0000              9            R_DSEG    segment data
0000             10            R_CSEG    segment code
0000             11            R_BSEG    segment bit
0000             12            R_XSEG    segment xdata
0000             13            R_PSEG    segment xdata
0000             14            R_ISEG    segment idata
0000             15            R_OSEG    segment data overlay
0000             16            BIT_BANK  segment data overlay
0000             17            R_HOME    segment code
0000             18            R_GSINIT  segment code
0000             19            R_IXSEG   segment xdata
0000             20            R_CONST   segment code
0000             21            R_XINIT   segment code
0000             22            R_DINIT   segment code
0000             23   
0000             24   ;--------------------------------------------------------
0000             25   ; Public variables in this module
0000             26   ;--------------------------------------------------------
0000             27            public _InitPinADC_PARM_2
0000             28            public _main
0000             29            public _DisplayMenu
0000             30            public _ReadDiff
0000             31            public _ReadPeak
0000             32            public _ReadPeriod
0000             33            public _Volts_at_Pin
0000             34            public _ADC_at_Pin
0000             35            public _InitPinADC
0000             36            public _InitADC
0000             37            public _Set_Pin_Input
0000             38            public _ReadButtonDebounced
0000             39            public _Read_Pin
0000             40            public _LCDprint
0000             41            public _LCD_4BIT
0000             42            public _WriteCommand
0000             43            public _WriteData
0000             44            public _LCD_byte
0000             45            public _LCD_pulse
0000             46            public _TIMER0_Init
0000             47            public _waitus
0000             48            public _waitms
0000             49            public _Timer3us
0000             50            public __c51_external_startup
0000             51            public _frequency
0000             52            public _phase_diff
0000             53            public _vpeak
0000             54            public _overflow_count
0000             55            public _LCDprint_PARM_4
0000             56            public _DisplayMenu_PARM_2
0000             57            public _ReadPeak_PARM_2
0000             58            public _LCDprint_PARM_3
0000             59            public _LCDprint_PARM_2
0000             60   ;--------------------------------------------------------
0000             61   ; Special Function Registers
0000             62   ;--------------------------------------------------------
0000             63   _ACC            DATA 0xe0
0000             64   _ADC0ASAH       DATA 0xb6
0000             65   _ADC0ASAL       DATA 0xb5
0000             66   _ADC0ASCF       DATA 0xa1
0000             67   _ADC0ASCT       DATA 0xc7
0000             68   _ADC0CF0        DATA 0xbc
0000             69   _ADC0CF1        DATA 0xb9
0000             70   _ADC0CF2        DATA 0xdf
0000             71   _ADC0CN0        DATA 0xe8
0000             72   _ADC0CN1        DATA 0xb2
0000             73   _ADC0CN2        DATA 0xb3
0000             74   _ADC0GTH        DATA 0xc4
0000             75   _ADC0GTL        DATA 0xc3
0000             76   _ADC0H          DATA 0xbe
0000             77   _ADC0L          DATA 0xbd
0000             78   _ADC0LTH        DATA 0xc6
0000             79   _ADC0LTL        DATA 0xc5
0000             80   _ADC0MX         DATA 0xbb
0000             81   _B              DATA 0xf0
0000             82   _CKCON0         DATA 0x8e
0000             83   _CKCON1         DATA 0xa6
0000             84   _CLEN0          DATA 0xc6
0000             85   _CLIE0          DATA 0xc7
0000             86   _CLIF0          DATA 0xe8
0000             87   _CLKSEL         DATA 0xa9
0000             88   _CLOUT0         DATA 0xd1
0000             89   _CLU0CF         DATA 0xb1
0000             90   _CLU0FN         DATA 0xaf
0000             91   _CLU0MX         DATA 0x84
0000             92   _CLU1CF         DATA 0xb3
0000             93   _CLU1FN         DATA 0xb2
0000             94   _CLU1MX         DATA 0x85
0000             95   _CLU2CF         DATA 0xb6
0000             96   _CLU2FN         DATA 0xb5
0000             97   _CLU2MX         DATA 0x91
0000             98   _CLU3CF         DATA 0xbf
0000             99   _CLU3FN         DATA 0xbe
0000            100   _CLU3MX         DATA 0xae
0000            101   _CMP0CN0        DATA 0x9b
0000            102   _CMP0CN1        DATA 0x99
0000            103   _CMP0MD         DATA 0x9d
0000            104   _CMP0MX         DATA 0x9f
0000            105   _CMP1CN0        DATA 0xbf
0000            106   _CMP1CN1        DATA 0xac
0000            107   _CMP1MD         DATA 0xab
0000            108   _CMP1MX         DATA 0xaa
0000            109   _CRC0CN0        DATA 0xce
0000            110   _CRC0CN1        DATA 0x86
0000            111   _CRC0CNT        DATA 0xd3
0000            112   _CRC0DAT        DATA 0xcb
0000            113   _CRC0FLIP       DATA 0xcf
0000            114   _CRC0IN         DATA 0xca
0000            115   _CRC0ST         DATA 0xd2
0000            116   _DAC0CF0        DATA 0x91
0000            117   _DAC0CF1        DATA 0x92
0000            118   _DAC0H          DATA 0x85
0000            119   _DAC0L          DATA 0x84
0000            120   _DAC1CF0        DATA 0x93
0000            121   _DAC1CF1        DATA 0x94
0000            122   _DAC1H          DATA 0x8a
0000            123   _DAC1L          DATA 0x89
0000            124   _DAC2CF0        DATA 0x95
0000            125   _DAC2CF1        DATA 0x96
0000            126   _DAC2H          DATA 0x8c
0000            127   _DAC2L          DATA 0x8b
0000            128   _DAC3CF0        DATA 0x9a
0000            129   _DAC3CF1        DATA 0x9c
0000            130   _DAC3H          DATA 0x8e
0000            131   _DAC3L          DATA 0x8d
0000            132   _DACGCF0        DATA 0x88
0000            133   _DACGCF1        DATA 0x98
0000            134   _DACGCF2        DATA 0xa2
0000            135   _DERIVID        DATA 0xad
0000            136   _DEVICEID       DATA 0xb5
0000            137   _DPH            DATA 0x83
0000            138   _DPL            DATA 0x82
0000            139   _EIE1           DATA 0xe6
0000            140   _EIE2           DATA 0xf3
0000            141   _EIP1           DATA 0xbb
0000            142   _EIP1H          DATA 0xee
0000            143   _EIP2           DATA 0xed
0000            144   _EIP2H          DATA 0xf6
0000            145   _EMI0CN         DATA 0xe7
0000            146   _FLKEY          DATA 0xb7
0000            147   _HFO0CAL        DATA 0xc7
0000            148   _HFO1CAL        DATA 0xd6
0000            149   _HFOCN          DATA 0xef
0000            150   _I2C0ADM        DATA 0xff
0000            151   _I2C0CN0        DATA 0xba
0000            152   _I2C0DIN        DATA 0xbc
0000            153   _I2C0DOUT       DATA 0xbb
0000            154   _I2C0FCN0       DATA 0xad
0000            155   _I2C0FCN1       DATA 0xab
0000            156   _I2C0FCT        DATA 0xf5
0000            157   _I2C0SLAD       DATA 0xbd
0000            158   _I2C0STAT       DATA 0xb9
0000            159   _IE             DATA 0xa8
0000            160   _IP             DATA 0xb8
0000            161   _IPH            DATA 0xf2
0000            162   _IT01CF         DATA 0xe4
0000            163   _LFO0CN         DATA 0xb1
0000            164   _P0             DATA 0x80
0000            165   _P0MASK         DATA 0xfe
0000            166   _P0MAT          DATA 0xfd
0000            167   _P0MDIN         DATA 0xf1
0000            168   _P0MDOUT        DATA 0xa4
0000            169   _P0SKIP         DATA 0xd4
0000            170   _P1             DATA 0x90
0000            171   _P1MASK         DATA 0xee
0000            172   _P1MAT          DATA 0xed
0000            173   _P1MDIN         DATA 0xf2
0000            174   _P1MDOUT        DATA 0xa5
0000            175   _P1SKIP         DATA 0xd5
0000            176   _P2             DATA 0xa0
0000            177   _P2MASK         DATA 0xfc
0000            178   _P2MAT          DATA 0xfb
0000            179   _P2MDIN         DATA 0xf3
0000            180   _P2MDOUT        DATA 0xa6
0000            181   _P2SKIP         DATA 0xcc
0000            182   _P3             DATA 0xb0
0000            183   _P3MDIN         DATA 0xf4
0000            184   _P3MDOUT        DATA 0x9c
0000            185   _PCA0CENT       DATA 0x9e
0000            186   _PCA0CLR        DATA 0x9c
0000            187   _PCA0CN0        DATA 0xd8
0000            188   _PCA0CPH0       DATA 0xfc
0000            189   _PCA0CPH1       DATA 0xea
0000            190   _PCA0CPH2       DATA 0xec
0000            191   _PCA0CPH3       DATA 0xf5
0000            192   _PCA0CPH4       DATA 0x85
0000            193   _PCA0CPH5       DATA 0xde
0000            194   _PCA0CPL0       DATA 0xfb
0000            195   _PCA0CPL1       DATA 0xe9
0000            196   _PCA0CPL2       DATA 0xeb
0000            197   _PCA0CPL3       DATA 0xf4
0000            198   _PCA0CPL4       DATA 0x84
0000            199   _PCA0CPL5       DATA 0xdd
0000            200   _PCA0CPM0       DATA 0xda
0000            201   _PCA0CPM1       DATA 0xdb
0000            202   _PCA0CPM2       DATA 0xdc
0000            203   _PCA0CPM3       DATA 0xae
0000            204   _PCA0CPM4       DATA 0xaf
0000            205   _PCA0CPM5       DATA 0xcc
0000            206   _PCA0H          DATA 0xfa
0000            207   _PCA0L          DATA 0xf9
0000            208   _PCA0MD         DATA 0xd9
0000            209   _PCA0POL        DATA 0x96
0000            210   _PCA0PWM        DATA 0xf7
0000            211   _PCON0          DATA 0x87
0000            212   _PCON1          DATA 0xcd
0000            213   _PFE0CN         DATA 0xc1
0000            214   _PRTDRV         DATA 0xf6
0000            215   _PSCTL          DATA 0x8f
0000            216   _PSTAT0         DATA 0xaa
0000            217   _PSW            DATA 0xd0
0000            218   _REF0CN         DATA 0xd1
0000            219   _REG0CN         DATA 0xc9
0000            220   _REVID          DATA 0xb6
0000            221   _RSTSRC         DATA 0xef
0000            222   _SBCON1         DATA 0x94
0000            223   _SBRLH1         DATA 0x96
0000            224   _SBRLL1         DATA 0x95
0000            225   _SBUF           DATA 0x99
0000            226   _SBUF0          DATA 0x99
0000            227   _SBUF1          DATA 0x92
0000            228   _SCON           DATA 0x98
0000            229   _SCON0          DATA 0x98
0000            230   _SCON1          DATA 0xc8
0000            231   _SFRPAGE        DATA 0xa7
0000            232   _SFRPGCN        DATA 0xbc
0000            233   _SFRSTACK       DATA 0xd7
0000            234   _SMB0ADM        DATA 0xd6
0000            235   _SMB0ADR        DATA 0xd7
0000            236   _SMB0CF         DATA 0xc1
0000            237   _SMB0CN0        DATA 0xc0
0000            238   _SMB0DAT        DATA 0xc2
0000            239   _SMB0FCN0       DATA 0xc3
0000            240   _SMB0FCN1       DATA 0xc4
0000            241   _SMB0FCT        DATA 0xef
0000            242   _SMB0RXLN       DATA 0xc5
0000            243   _SMB0TC         DATA 0xac
0000            244   _SMOD1          DATA 0x93
0000            245   _SP             DATA 0x81
0000            246   _SPI0CFG        DATA 0xa1
0000            247   _SPI0CKR        DATA 0xa2
0000            248   _SPI0CN0        DATA 0xf8
0000            249   _SPI0DAT        DATA 0xa3
0000            250   _SPI0FCN0       DATA 0x9a
0000            251   _SPI0FCN1       DATA 0x9b
0000            252   _SPI0FCT        DATA 0xf7
0000            253   _SPI0PCF        DATA 0xdf
0000            254   _TCON           DATA 0x88
0000            255   _TH0            DATA 0x8c
0000            256   _TH1            DATA 0x8d
0000            257   _TL0            DATA 0x8a
0000            258   _TL1            DATA 0x8b
0000            259   _TMOD           DATA 0x89
0000            260   _TMR2CN0        DATA 0xc8
0000            261   _TMR2CN1        DATA 0xfd
0000            262   _TMR2H          DATA 0xcf
0000            263   _TMR2L          DATA 0xce
0000            264   _TMR2RLH        DATA 0xcb
0000            265   _TMR2RLL        DATA 0xca
0000            266   _TMR3CN0        DATA 0x91
0000            267   _TMR3CN1        DATA 0xfe
0000            268   _TMR3H          DATA 0x95
0000            269   _TMR3L          DATA 0x94
0000            270   _TMR3RLH        DATA 0x93
0000            271   _TMR3RLL        DATA 0x92
0000            272   _TMR4CN0        DATA 0x98
0000            273   _TMR4CN1        DATA 0xff
0000            274   _TMR4H          DATA 0xa5
0000            275   _TMR4L          DATA 0xa4
0000            276   _TMR4RLH        DATA 0xa3
0000            277   _TMR4RLL        DATA 0xa2
0000            278   _TMR5CN0        DATA 0xc0
0000            279   _TMR5CN1        DATA 0xf1
0000            280   _TMR5H          DATA 0xd5
0000            281   _TMR5L          DATA 0xd4
0000            282   _TMR5RLH        DATA 0xd3
0000            283   _TMR5RLL        DATA 0xd2
0000            284   _UART0PCF       DATA 0xd9
0000            285   _UART1FCN0      DATA 0x9d
0000            286   _UART1FCN1      DATA 0xd8
0000            287   _UART1FCT       DATA 0xfa
0000            288   _UART1LIN       DATA 0x9e
0000            289   _UART1PCF       DATA 0xda
0000            290   _VDM0CN         DATA 0xff
0000            291   _WDTCN          DATA 0x97
0000            292   _XBR0           DATA 0xe1
0000            293   _XBR1           DATA 0xe2
0000            294   _XBR2           DATA 0xe3
0000            295   _XOSC0CN        DATA 0x86
0000            296   _DPTR           DATA 0x8382
0000            297   _TMR2RL         DATA 0xcbca
0000            298   _TMR3RL         DATA 0x9392
0000            299   _TMR4RL         DATA 0xa3a2
0000            300   _TMR5RL         DATA 0xd3d2
0000            301   _TMR0           DATA 0x8c8a
0000            302   _TMR1           DATA 0x8d8b
0000            303   _TMR2           DATA 0xcfce
0000            304   _TMR3           DATA 0x9594
0000            305   _TMR4           DATA 0xa5a4
0000            306   _TMR5           DATA 0xd5d4
0000            307   _SBRL1          DATA 0x9695
0000            308   _PCA0           DATA 0xfaf9
0000            309   _PCA0CP0        DATA 0xfcfb
0000            310   _PCA0CP1        DATA 0xeae9
0000            311   _PCA0CP2        DATA 0xeceb
0000            312   _PCA0CP3        DATA 0xf5f4
0000            313   _PCA0CP4        DATA 0x8584
0000            314   _PCA0CP5        DATA 0xdedd
0000            315   _ADC0ASA        DATA 0xb6b5
0000            316   _ADC0GT         DATA 0xc4c3
0000            317   _ADC0           DATA 0xbebd
0000            318   _ADC0LT         DATA 0xc6c5
0000            319   _DAC0           DATA 0x8584
0000            320   _DAC1           DATA 0x8a89
0000            321   _DAC2           DATA 0x8c8b
0000            322   _DAC3           DATA 0x8e8d
0000            323   ;--------------------------------------------------------
0000            324   ; special function bits
0000            325   ;--------------------------------------------------------
0000            326   _ACC_0          BIT 0xe0
0000            327   _ACC_1          BIT 0xe1
0000            328   _ACC_2          BIT 0xe2
0000            329   _ACC_3          BIT 0xe3
0000            330   _ACC_4          BIT 0xe4
0000            331   _ACC_5          BIT 0xe5
0000            332   _ACC_6          BIT 0xe6
0000            333   _ACC_7          BIT 0xe7
0000            334   _TEMPE          BIT 0xe8
0000            335   _ADGN0          BIT 0xe9
0000            336   _ADGN1          BIT 0xea
0000            337   _ADWINT         BIT 0xeb
0000            338   _ADBUSY         BIT 0xec
0000            339   _ADINT          BIT 0xed
0000            340   _IPOEN          BIT 0xee
0000            341   _ADEN           BIT 0xef
0000            342   _B_0            BIT 0xf0
0000            343   _B_1            BIT 0xf1
0000            344   _B_2            BIT 0xf2
0000            345   _B_3            BIT 0xf3
0000            346   _B_4            BIT 0xf4
0000            347   _B_5            BIT 0xf5
0000            348   _B_6            BIT 0xf6
0000            349   _B_7            BIT 0xf7
0000            350   _C0FIF          BIT 0xe8
0000            351   _C0RIF          BIT 0xe9
0000            352   _C1FIF          BIT 0xea
0000            353   _C1RIF          BIT 0xeb
0000            354   _C2FIF          BIT 0xec
0000            355   _C2RIF          BIT 0xed
0000            356   _C3FIF          BIT 0xee
0000            357   _C3RIF          BIT 0xef
0000            358   _D1SRC0         BIT 0x88
0000            359   _D1SRC1         BIT 0x89
0000            360   _D1AMEN         BIT 0x8a
0000            361   _D01REFSL       BIT 0x8b
0000            362   _D3SRC0         BIT 0x8c
0000            363   _D3SRC1         BIT 0x8d
0000            364   _D3AMEN         BIT 0x8e
0000            365   _D23REFSL       BIT 0x8f
0000            366   _D0UDIS         BIT 0x98
0000            367   _D1UDIS         BIT 0x99
0000            368   _D2UDIS         BIT 0x9a
0000            369   _D3UDIS         BIT 0x9b
0000            370   _EX0            BIT 0xa8
0000            371   _ET0            BIT 0xa9
0000            372   _EX1            BIT 0xaa
0000            373   _ET1            BIT 0xab
0000            374   _ES0            BIT 0xac
0000            375   _ET2            BIT 0xad
0000            376   _ESPI0          BIT 0xae
0000            377   _EA             BIT 0xaf
0000            378   _PX0            BIT 0xb8
0000            379   _PT0            BIT 0xb9
0000            380   _PX1            BIT 0xba
0000            381   _PT1            BIT 0xbb
0000            382   _PS0            BIT 0xbc
0000            383   _PT2            BIT 0xbd
0000            384   _PSPI0          BIT 0xbe
0000            385   _P0_0           BIT 0x80
0000            386   _P0_1           BIT 0x81
0000            387   _P0_2           BIT 0x82
0000            388   _P0_3           BIT 0x83
0000            389   _P0_4           BIT 0x84
0000            390   _P0_5           BIT 0x85
0000            391   _P0_6           BIT 0x86
0000            392   _P0_7           BIT 0x87
0000            393   _P1_0           BIT 0x90
0000            394   _P1_1           BIT 0x91
0000            395   _P1_2           BIT 0x92
0000            396   _P1_3           BIT 0x93
0000            397   _P1_4           BIT 0x94
0000            398   _P1_5           BIT 0x95
0000            399   _P1_6           BIT 0x96
0000            400   _P1_7           BIT 0x97
0000            401   _P2_0           BIT 0xa0
0000            402   _P2_1           BIT 0xa1
0000            403   _P2_2           BIT 0xa2
0000            404   _P2_3           BIT 0xa3
0000            405   _P2_4           BIT 0xa4
0000            406   _P2_5           BIT 0xa5
0000            407   _P2_6           BIT 0xa6
0000            408   _P3_0           BIT 0xb0
0000            409   _P3_1           BIT 0xb1
0000            410   _P3_2           BIT 0xb2
0000            411   _P3_3           BIT 0xb3
0000            412   _P3_4           BIT 0xb4
0000            413   _P3_7           BIT 0xb7
0000            414   _CCF0           BIT 0xd8
0000            415   _CCF1           BIT 0xd9
0000            416   _CCF2           BIT 0xda
0000            417   _CCF3           BIT 0xdb
0000            418   _CCF4           BIT 0xdc
0000            419   _CCF5           BIT 0xdd
0000            420   _CR             BIT 0xde
0000            421   _CF             BIT 0xdf
0000            422   _PARITY         BIT 0xd0
0000            423   _F1             BIT 0xd1
0000            424   _OV             BIT 0xd2
0000            425   _RS0            BIT 0xd3
0000            426   _RS1            BIT 0xd4
0000            427   _F0             BIT 0xd5
0000            428   _AC             BIT 0xd6
0000            429   _CY             BIT 0xd7
0000            430   _RI             BIT 0x98
0000            431   _TI             BIT 0x99
0000            432   _RB8            BIT 0x9a
0000            433   _TB8            BIT 0x9b
0000            434   _REN            BIT 0x9c
0000            435   _CE             BIT 0x9d
0000            436   _SMODE          BIT 0x9e
0000            437   _RI1            BIT 0xc8
0000            438   _TI1            BIT 0xc9
0000            439   _RBX1           BIT 0xca
0000            440   _TBX1           BIT 0xcb
0000            441   _REN1           BIT 0xcc
0000            442   _PERR1          BIT 0xcd
0000            443   _OVR1           BIT 0xce
0000            444   _SI             BIT 0xc0
0000            445   _ACK            BIT 0xc1
0000            446   _ARBLOST        BIT 0xc2
0000            447   _ACKRQ          BIT 0xc3
0000            448   _STO            BIT 0xc4
0000            449   _STA            BIT 0xc5
0000            450   _TXMODE         BIT 0xc6
0000            451   _MASTER         BIT 0xc7
0000            452   _SPIEN          BIT 0xf8
0000            453   _TXNF           BIT 0xf9
0000            454   _NSSMD0         BIT 0xfa
0000            455   _NSSMD1         BIT 0xfb
0000            456   _RXOVRN         BIT 0xfc
0000            457   _MODF           BIT 0xfd
0000            458   _WCOL           BIT 0xfe
0000            459   _SPIF           BIT 0xff
0000            460   _IT0            BIT 0x88
0000            461   _IE0            BIT 0x89
0000            462   _IT1            BIT 0x8a
0000            463   _IE1            BIT 0x8b
0000            464   _TR0            BIT 0x8c
0000            465   _TF0            BIT 0x8d
0000            466   _TR1            BIT 0x8e
0000            467   _TF1            BIT 0x8f
0000            468   _T2XCLK0        BIT 0xc8
0000            469   _T2XCLK1        BIT 0xc9
0000            470   _TR2            BIT 0xca
0000            471   _T2SPLIT        BIT 0xcb
0000            472   _TF2CEN         BIT 0xcc
0000            473   _TF2LEN         BIT 0xcd
0000            474   _TF2L           BIT 0xce
0000            475   _TF2H           BIT 0xcf
0000            476   _T4XCLK0        BIT 0x98
0000            477   _T4XCLK1        BIT 0x99
0000            478   _TR4            BIT 0x9a
0000            479   _T4SPLIT        BIT 0x9b
0000            480   _TF4CEN         BIT 0x9c
0000            481   _TF4LEN         BIT 0x9d
0000            482   _TF4L           BIT 0x9e
0000            483   _TF4H           BIT 0x9f
0000            484   _T5XCLK0        BIT 0xc0
0000            485   _T5XCLK1        BIT 0xc1
0000            486   _TR5            BIT 0xc2
0000            487   _T5SPLIT        BIT 0xc3
0000            488   _TF5CEN         BIT 0xc4
0000            489   _TF5LEN         BIT 0xc5
0000            490   _TF5L           BIT 0xc6
0000            491   _TF5H           BIT 0xc7
0000            492   _RIE            BIT 0xd8
0000            493   _RXTO0          BIT 0xd9
0000            494   _RXTO1          BIT 0xda
0000            495   _RFRQ           BIT 0xdb
0000            496   _TIE            BIT 0xdc
0000            497   _TXHOLD         BIT 0xdd
0000            498   _TXNF1          BIT 0xde
0000            499   _TFRQ           BIT 0xdf
0000            500   ;--------------------------------------------------------
0000            501   ; overlayable register banks
0000            502   ;--------------------------------------------------------
0000            503            rbank0 segment data overlay
0000            504   ;--------------------------------------------------------
0000            505   ; internal ram data
0000            506   ;--------------------------------------------------------
0000            507            rseg R_DSEG
0000            508   _LCDprint_PARM_2:
0000            509            ds 1
0001            510   _LCDprint_PARM_3:
0001            511            ds 1
0002            512   _ReadPeak_PARM_2:
0002            513            ds 3
0005            514   _ReadPeak_delay_us_1_118:
0005            515            ds 2
0007            516   _DisplayMenu_PARM_2:
0007            517            ds 2
0009            518   _main_sloc0_1_0:
0009            519            ds 4
000D            520   _main_sloc1_1_0:
000D            521            ds 4
0011            522   ;--------------------------------------------------------
0011            523   ; overlayable items in internal ram 
0011            524   ;--------------------------------------------------------
0000            525            rseg    R_OSEG
0000            526            rseg    R_OSEG
0000            527            rseg    R_OSEG
0000            528            rseg    R_OSEG
0000            529   _InitPinADC_PARM_2:
0000            530            ds 1
0001            531            rseg    R_OSEG
0001            532   ;--------------------------------------------------------
0001            533   ; indirectly addressable internal ram data
0001            534   ;--------------------------------------------------------
0000            535            rseg R_ISEG
0000            536   ;--------------------------------------------------------
0000            537   ; absolute internal ram data
0000            538   ;--------------------------------------------------------
0000            539            DSEG
0000            540   ;--------------------------------------------------------
0000            541   ; bit data
0000            542   ;--------------------------------------------------------
0000            543            rseg R_BSEG
0000            544   _LCDprint_PARM_4:
0000            545            DBIT    1
0001            546   _Read_Pin_sloc0_1_0:
0001            547            DBIT    1
0002            548   ;--------------------------------------------------------
0002            549   ; paged external ram data
0002            550   ;--------------------------------------------------------
0000            551            rseg R_PSEG
0000            552   ;--------------------------------------------------------
0000            553   ; external ram data
0000            554   ;--------------------------------------------------------
0000            555            rseg R_XSEG
0000            556   _overflow_count:
0000            557            ds 1
0001            558   _vpeak:
0001            559            ds 8
0009            560   _phase_diff:
0009            561            ds 4
000D            562   _frequency:
000D            563            ds 4
0011            564   _LCDprint_address_1_88:
0011            565            ds 1
0012            566   _Read_Pin_result_1_92:
0012            567            ds 1
0013            568   _DisplayMenu_buff_1_126:
0013            569            ds 17
0024            570   _main_v_rms_1_131:
0024            571            ds 8
002C            572   _main_units_1_131:
002C            573            ds 2
002E            574   _main_time_diff_1_131:
002E            575            ds 4
0032            576   _main_menu_1_131:
0032            577            ds 2
0034            578   ;--------------------------------------------------------
0034            579   ; absolute external ram data
0034            580   ;--------------------------------------------------------
0000            581            XSEG
0000            582   ;--------------------------------------------------------
0000            583   ; external initialized ram data
0000            584   ;--------------------------------------------------------
0000            585            rseg R_IXSEG
0000            586            rseg R_HOME
0000            587            rseg R_GSINIT
0000            588            rseg R_CSEG
0000            589   ;--------------------------------------------------------
0000            590   ; Reset entry point and interrupt vectors
0000            591   ;--------------------------------------------------------
0000            592            CSEG at 0x0000
0000 020000     593            ljmp    _crt0
0003            594   ;--------------------------------------------------------
0003            595   ; global & static initialisations
0003            596   ;--------------------------------------------------------
0000            597            rseg R_HOME
0000            598            rseg R_GSINIT
0000            599            rseg R_GSINIT
0000            600   ;--------------------------------------------------------
0000            601   ; data variables initialization
0000            602   ;--------------------------------------------------------
0000            603            rseg R_DINIT
0000            604            ; The linker places a 'ret' at the end of segment R_DINIT.
0000            605   ;--------------------------------------------------------
0000            606   ; code
0000            607   ;--------------------------------------------------------
0000            608            rseg R_CSEG
0000            609   ;------------------------------------------------------------
0000            610   ;Allocation info for local variables in function '_c51_external_startup'
0000            611   ;------------------------------------------------------------
0000            612   ;------------------------------------------------------------
0000            613   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:41: char _c51_external_startup (void)
0000            614   ;        -----------------------------------------
0000            615   ;         function _c51_external_startup
0000            616   ;        -----------------------------------------
0000            617   __c51_external_startup:
0000            618            using   0
0000            619   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:44: SFRPAGE = 0x00;
0000 75A700     620            mov     _SFRPAGE,#0x00
0003            621   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:45: WDTCN = 0xDE; //First key
0003 7597DE     622            mov     _WDTCN,#0xDE
0006            623   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:46: WDTCN = 0xAD; //Second key
0006 7597AD     624            mov     _WDTCN,#0xAD
0009            625   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:48: VDM0CN=0x80;       // enable VDD monitor
0009 75FF80     626            mov     _VDM0CN,#0x80
000C            627   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:49: RSTSRC=0x02|0x04;  // Enable reset on missing clock detector and VDD
000C 75EF06     628            mov     _RSTSRC,#0x06
000F            629   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:56: SFRPAGE = 0x10;
000F 75A710     630            mov     _SFRPAGE,#0x10
0012            631   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:57: PFE0CN  = 0x20; // SYSCLK < 75 MHz.
0012 75C120     632            mov     _PFE0CN,#0x20
0015            633   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:58: SFRPAGE = 0x00;
0015 75A700     634            mov     _SFRPAGE,#0x00
0018            635   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:79: CLKSEL = 0x00;
0018 75A900     636            mov     _CLKSEL,#0x00
001B            637   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:80: CLKSEL = 0x00;
001B 75A900     638            mov     _CLKSEL,#0x00
001E            639   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:81: while ((CLKSEL & 0x80) == 0);
001E            640   L002001?:
001E E5A9       641            mov     a,_CLKSEL
0020 30E778     642            jnb     acc.7,L002001?
0023            643   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:82: CLKSEL = 0x03;
0023 75A903     644            mov     _CLKSEL,#0x03
0026            645   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:83: CLKSEL = 0x03;
0026 75A903     646            mov     _CLKSEL,#0x03
0029            647   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:84: while ((CLKSEL & 0x80) == 0);
0029            648   L002004?:
0029 E5A9       649            mov     a,_CLKSEL
002B 30E7F8     650            jnb     acc.7,L002004?
002E            651   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:89: P0MDOUT |= 0x10; // Enable UART0 TX as push-pull output
002E 43A410     652            orl     _P0MDOUT,#0x10
0031            653   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:90: XBR0     = 0x01; // Enable UART0 on P0.4(TX) and P0.5(RX)                     
0031 75E101     654            mov     _XBR0,#0x01
0034            655   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:91: XBR1     = 0X00;
0034 75E200     656            mov     _XBR1,#0x00
0037            657   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:92: XBR2     = 0x40; // Enable crossbar and weak pull-ups
0037 75E340     658            mov     _XBR2,#0x40
003A            659   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:98: SCON0 = 0x10;
003A 759810     660            mov     _SCON0,#0x10
003D            661   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:99: TH1 = 0x100-((SYSCLK/BAUDRATE)/(2L*12L));
003D 758DE6     662            mov     _TH1,#0xE6
0040            663   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:100: TL1 = TH1;      // Init Timer1
0040 858D8B     664            mov     _TL1,_TH1
0043            665   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:101: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit auto-reload
0043 53890F     666            anl     _TMOD,#0x0F
0046            667   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:102: TMOD |=  0x20;                       
0046 438920     668            orl     _TMOD,#0x20
0049            669   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:103: TR1 = 1; // START Timer1
0049 D28E       670            setb    _TR1
004B            671   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:104: TI = 1;  // Indicate TX0 ready
004B D299       672            setb    _TI
004D            673   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:106: return 0;
004D 758200     674            mov     dpl,#0x00
0050 22         675            ret
0051            676   ;------------------------------------------------------------
0051            677   ;Allocation info for local variables in function 'Timer3us'
0051            678   ;------------------------------------------------------------
0051            679   ;i                         Allocated with name '_Timer3us_i_1_67'
0051            680   ;us                        Allocated to registers r2 
0051            681   ;------------------------------------------------------------
0051            682   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:110: void Timer3us(unsigned char us)
0051            683   ;        -----------------------------------------
0051            684   ;         function Timer3us
0051            685   ;        -----------------------------------------
0051            686   _Timer3us:
0051 AA82       687            mov     r2,dpl
0053            688   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:115: CKCON0|=0b_0100_0000;
0053 438E40     689            orl     _CKCON0,#0x40
0056            690   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:117: TMR3RL = (-(SYSCLK)/1000000L); // Set Timer3 to overflow in 1us.
0056 7592B8     691            mov     _TMR3RL,#0xB8
0059 7593FF     692            mov     (_TMR3RL >> 8),#0xFF
005C            693   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:118: TMR3 = TMR3RL;                 // Initialize Timer3 for first overflow
005C 859294     694            mov     _TMR3,_TMR3RL
005F 859395     695            mov     (_TMR3 >> 8),(_TMR3RL >> 8)
0062            696   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:120: TMR3CN0 = 0x04;                 // Sart Timer3 and clear overflow flag
0062 759104     697            mov     _TMR3CN0,#0x04
0065            698   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:121: for (i = 0; i < us; i++)       // Count <us> overflows
0065 7B00       699            mov     r3,#0x00
0067            700   L003004?:
0067 C3         701            clr     c
0068 EB         702            mov     a,r3
0069 9A         703            subb    a,r2
006A 5000       704            jnc     L003007?
006C            705   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:123: while (!(TMR3CN0 & 0x80));  // Wait for overflow
006C            706   L003001?:
006C E591       707            mov     a,_TMR3CN0
006E 30E7F8     708            jnb     acc.7,L003001?
0071            709   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:124: TMR3CN0 &= ~(0x80);         // Clear overflow indicator
0071 53917F     710            anl     _TMR3CN0,#0x7F
0074            711   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:121: for (i = 0; i < us; i++)       // Count <us> overflows
0074 0B         712            inc     r3
0075 8000       713            sjmp    L003004?
0077            714   L003007?:
0077            715   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:126: TMR3CN0 = 0 ;                   // Stop Timer3 and clear overflow flag
0077 759100     716            mov     _TMR3CN0,#0x00
007A 22         717            ret
007B            718   ;------------------------------------------------------------
007B            719   ;Allocation info for local variables in function 'waitms'
007B            720   ;------------------------------------------------------------
007B            721   ;ms                        Allocated to registers r2 r3 
007B            722   ;j                         Allocated with name '_waitms_j_1_70'
007B            723   ;k                         Allocated with name '_waitms_k_1_70'
007B            724   ;------------------------------------------------------------
007B            725   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:129: void waitms (unsigned int ms)
007B            726   ;        -----------------------------------------
007B            727   ;         function waitms
007B            728   ;        -----------------------------------------
007B            729   _waitms:
007B AA82       730            mov     r2,dpl
007D AB83       731            mov     r3,dph
007F            732   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:133: for(j=0; j<ms; j++)
007F 7C00       733            mov     r4,#0x00
0081 7D00       734            mov     r5,#0x00
0083            735   L004005?:
0083 C3         736            clr     c
0084 EC         737            mov     a,r4
0085 9A         738            subb    a,r2
0086 ED         739            mov     a,r5
0087 9B         740            subb    a,r3
0088 5000       741            jnc     L004009?
008A            742   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:134: for (k=0; k<4; k++) Timer3us(250);
008A 7E00       743            mov     r6,#0x00
008C            744   L004001?:
008C BE0440     745            cjne    r6,#0x04,L004018?
008F            746   L004018?:
008F 5000       747            jnc     L004007?
0091 7582FA     748            mov     dpl,#0xFA
0094 C002       749            push    ar2
0096 C003       750            push    ar3
0098 C004       751            push    ar4
009A C005       752            push    ar5
009C C006       753            push    ar6
009E 120000     754            lcall   _Timer3us
00A1 D006       755            pop     ar6
00A3 D005       756            pop     ar5
00A5 D004       757            pop     ar4
00A7 D003       758            pop     ar3
00A9 D002       759            pop     ar2
00AB 0E         760            inc     r6
00AC 8000       761            sjmp    L004001?
00AE            762   L004007?:
00AE            763   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:133: for(j=0; j<ms; j++)
00AE 0C         764            inc     r4
00AF BC0078     765            cjne    r4,#0x00,L004005?
00B2 0D         766            inc     r5
00B3 8000       767            sjmp    L004005?
00B5            768   L004009?:
00B5 22         769            ret
00B6            770   ;------------------------------------------------------------
00B6            771   ;Allocation info for local variables in function 'waitus'
00B6            772   ;------------------------------------------------------------
00B6            773   ;us                        Allocated to registers r2 r3 
00B6            774   ;temp                      Allocated to registers r2 r3 
00B6            775   ;------------------------------------------------------------
00B6            776   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:137: void waitus(unsigned int us) {
00B6            777   ;        -----------------------------------------
00B6            778   ;         function waitus
00B6            779   ;        -----------------------------------------
00B6            780   _waitus:
00B6 AA82       781            mov     r2,dpl
00B8 AB83       782            mov     r3,dph
00BA            783   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:139: while (temp > 255) {
00BA            784   L005001?:
00BA C3         785            clr     c
00BB 74FF       786            mov     a,#0xFF
00BD 9A         787            subb    a,r2
00BE E4         788            clr     a
00BF 9B         789            subb    a,r3
00C0 5000       790            jnc     L005003?
00C2            791   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:140: Timer3us(255);
00C2 7582FF     792            mov     dpl,#0xFF
00C5 C002       793            push    ar2
00C7 C003       794            push    ar3
00C9 120000     795            lcall   _Timer3us
00CC D003       796            pop     ar3
00CE D002       797            pop     ar2
00D0            798   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:141: temp -= 255;
00D0 EA         799            mov     a,r2
00D1 2401       800            add     a,#0x01
00D3 FA         801            mov     r2,a
00D4 EB         802            mov     a,r3
00D5 34FF       803            addc    a,#0xff
00D7 FB         804            mov     r3,a
00D8 8000       805            sjmp    L005001?
00DA            806   L005003?:
00DA            807   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:143: if (temp > 0) {
00DA EA         808            mov     a,r2
00DB 4B         809            orl     a,r3
00DC 6000       810            jz      L005006?
00DE            811   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:144: Timer3us((unsigned char)temp);
00DE 8A82       812            mov     dpl,r2
00E0 020000     813            ljmp    _Timer3us
00E3            814   L005006?:
00E3 22         815            ret
00E4            816   ;------------------------------------------------------------
00E4            817   ;Allocation info for local variables in function 'TIMER0_Init'
00E4            818   ;------------------------------------------------------------
00E4            819   ;------------------------------------------------------------
00E4            820   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:149: void TIMER0_Init(void)
00E4            821   ;        -----------------------------------------
00E4            822   ;         function TIMER0_Init
00E4            823   ;        -----------------------------------------
00E4            824   _TIMER0_Init:
00E4            825   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:151: TMOD&=0b_1111_0000; // Set the bits of Timer/Counter 0 to zero
00E4 5389F0     826            anl     _TMOD,#0xF0
00E7            827   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:152: TMOD|=0b_0000_0001; // Timer/Counter 0 used as a 16-bit timer
00E7 438901     828            orl     _TMOD,#0x01
00EA            829   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:153: TR0=0; // Stop Timer/Counter 0
00EA C28C       830            clr     _TR0
00EC 22         831            ret
00ED            832   ;------------------------------------------------------------
00ED            833   ;Allocation info for local variables in function 'LCD_pulse'
00ED            834   ;------------------------------------------------------------
00ED            835   ;------------------------------------------------------------
00ED            836   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:157: void LCD_pulse (void)
00ED            837   ;        -----------------------------------------
00ED            838   ;         function LCD_pulse
00ED            839   ;        -----------------------------------------
00ED            840   _LCD_pulse:
00ED            841   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:159: LCD_E=1;
00ED D2A0       842            setb    _P2_0
00EF            843   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:160: Timer3us(40);
00EF 758228     844            mov     dpl,#0x28
00F2 120000     845            lcall   _Timer3us
00F5            846   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:161: LCD_E=0;
00F5 C2A0       847            clr     _P2_0
00F7 22         848            ret
00F8            849   ;------------------------------------------------------------
00F8            850   ;Allocation info for local variables in function 'LCD_byte'
00F8            851   ;------------------------------------------------------------
00F8            852   ;x                         Allocated to registers r2 
00F8            853   ;------------------------------------------------------------
00F8            854   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:164: void LCD_byte (unsigned char x)
00F8            855   ;        -----------------------------------------
00F8            856   ;         function LCD_byte
00F8            857   ;        -----------------------------------------
00F8            858   _LCD_byte:
00F8 AA82       859            mov     r2,dpl
00FA            860   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:167: ACC=x; //Send high nible
00FA 8AE0       861            mov     _ACC,r2
00FC            862   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:168: LCD_D7=ACC_7;
00FC A2E7       863            mov     c,_ACC_7
00FE 9290       864            mov     _P1_0,c
0100            865   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:169: LCD_D6=ACC_6;
0100 A2E6       866            mov     c,_ACC_6
0102 9291       867            mov     _P1_1,c
0104            868   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:170: LCD_D5=ACC_5;
0104 A2E5       869            mov     c,_ACC_5
0106 9292       870            mov     _P1_2,c
0108            871   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:171: LCD_D4=ACC_4;
0108 A2E4       872            mov     c,_ACC_4
010A 9293       873            mov     _P1_3,c
010C            874   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:172: LCD_pulse();
010C C002       875            push    ar2
010E 120000     876            lcall   _LCD_pulse
0111            877   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:173: Timer3us(40);
0111 758228     878            mov     dpl,#0x28
0114 120000     879            lcall   _Timer3us
0117 D002       880            pop     ar2
0119            881   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:174: ACC=x; //Send low nible
0119 8AE0       882            mov     _ACC,r2
011B            883   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:175: LCD_D7=ACC_3;
011B A2E3       884            mov     c,_ACC_3
011D 9290       885            mov     _P1_0,c
011F            886   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:176: LCD_D6=ACC_2;
011F A2E2       887            mov     c,_ACC_2
0121 9291       888            mov     _P1_1,c
0123            889   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:177: LCD_D5=ACC_1;
0123 A2E1       890            mov     c,_ACC_1
0125 9292       891            mov     _P1_2,c
0127            892   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:178: LCD_D4=ACC_0;
0127 A2E0       893            mov     c,_ACC_0
0129 9293       894            mov     _P1_3,c
012B            895   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:179: LCD_pulse();
012B 020000     896            ljmp    _LCD_pulse
012E            897   ;------------------------------------------------------------
012E            898   ;Allocation info for local variables in function 'WriteData'
012E            899   ;------------------------------------------------------------
012E            900   ;x                         Allocated to registers r2 
012E            901   ;------------------------------------------------------------
012E            902   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:182: void WriteData (unsigned char x)
012E            903   ;        -----------------------------------------
012E            904   ;         function WriteData
012E            905   ;        -----------------------------------------
012E            906   _WriteData:
012E AA82       907            mov     r2,dpl
0130            908   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:184: LCD_RS=1;
0130 D297       909            setb    _P1_7
0132            910   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:185: LCD_byte(x);
0132 8A82       911            mov     dpl,r2
0134 120000     912            lcall   _LCD_byte
0137            913   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:186: waitms(2);
0137 900002     914            mov     dptr,#0x0002
013A 020000     915            ljmp    _waitms
013D            916   ;------------------------------------------------------------
013D            917   ;Allocation info for local variables in function 'WriteCommand'
013D            918   ;------------------------------------------------------------
013D            919   ;x                         Allocated to registers r2 
013D            920   ;------------------------------------------------------------
013D            921   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:189: void WriteCommand (unsigned char x)
013D            922   ;        -----------------------------------------
013D            923   ;         function WriteCommand
013D            924   ;        -----------------------------------------
013D            925   _WriteCommand:
013D AA82       926            mov     r2,dpl
013F            927   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:191: LCD_RS=0;
013F C297       928            clr     _P1_7
0141            929   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:192: LCD_byte(x);
0141 8A82       930            mov     dpl,r2
0143 120000     931            lcall   _LCD_byte
0146            932   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:193: waitms(5);
0146 900005     933            mov     dptr,#0x0005
0149 020000     934            ljmp    _waitms
014C            935   ;------------------------------------------------------------
014C            936   ;Allocation info for local variables in function 'LCD_4BIT'
014C            937   ;------------------------------------------------------------
014C            938   ;------------------------------------------------------------
014C            939   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:196: void LCD_4BIT (void)
014C            940   ;        -----------------------------------------
014C            941   ;         function LCD_4BIT
014C            942   ;        -----------------------------------------
014C            943   _LCD_4BIT:
014C            944   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:198: LCD_E=0; // Resting state of LCD's enable is zero
014C C2A0       945            clr     _P2_0
014E            946   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:200: waitms(20);
014E 900014     947            mov     dptr,#0x0014
0151 120000     948            lcall   _waitms
0154            949   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:202: WriteCommand(0x33);
0154 758233     950            mov     dpl,#0x33
0157 120000     951            lcall   _WriteCommand
015A            952   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:203: WriteCommand(0x33);
015A 758233     953            mov     dpl,#0x33
015D 120000     954            lcall   _WriteCommand
0160            955   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:204: WriteCommand(0x32); // Change to 4-bit mode
0160 758232     956            mov     dpl,#0x32
0163 120000     957            lcall   _WriteCommand
0166            958   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:207: WriteCommand(0x28);
0166 758228     959            mov     dpl,#0x28
0169 120000     960            lcall   _WriteCommand
016C            961   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:208: WriteCommand(0x0c);
016C 75820C     962            mov     dpl,#0x0C
016F 120000     963            lcall   _WriteCommand
0172            964   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:209: WriteCommand(0x01); // Clear screen command (takes some time)
0172 758201     965            mov     dpl,#0x01
0175 120000     966            lcall   _WriteCommand
0178            967   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:210: waitms(20); // Wait for clear screen command to finsih.
0178 900014     968            mov     dptr,#0x0014
017B 020000     969            ljmp    _waitms
017E            970   ;------------------------------------------------------------
017E            971   ;Allocation info for local variables in function 'LCDprint'
017E            972   ;------------------------------------------------------------
017E            973   ;line                      Allocated with name '_LCDprint_PARM_2'
017E            974   ;position                  Allocated with name '_LCDprint_PARM_3'
017E            975   ;string                    Allocated to registers r2 r3 r4 
017E            976   ;j                         Allocated to registers r5 r6 
017E            977   ;address                   Allocated with name '_LCDprint_address_1_88'
017E            978   ;------------------------------------------------------------
017E            979   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:213: void LCDprint(char * string, unsigned char line, unsigned char position, bit clear)
017E            980   ;        -----------------------------------------
017E            981   ;         function LCDprint
017E            982   ;        -----------------------------------------
017E            983   _LCDprint:
017E AA82       984            mov     r2,dpl
0180 AB83       985            mov     r3,dph
0182 ACF0       986            mov     r4,b
0184            987   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:218: if (line == 1){
0184 7401       988            mov     a,#0x01
0186 B5D0C0     989            cjne    a,_LCDprint_PARM_2,L012002?
0189            990   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:219: address = 0x80 + position; 
0189 90BB18     991            mov     dptr,#_LCDprint_address_1_88
018C 7480       992            mov     a,#0x80
018E 2580       993            add     a,_LCDprint_PARM_3
0190 F0         994            movx    @dptr,a
0191 8000       995            sjmp    L012003?
0193            996   L012002?:
0193            997   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:222: address = 0xC0 + position; 
0193 90BB18     998            mov     dptr,#_LCDprint_address_1_88
0196 74C0       999            mov     a,#0xC0
0198 2580      1000            add     a,_LCDprint_PARM_3
019A F0        1001            movx    @dptr,a
019B           1002   L012003?:
019B           1003   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:224: WriteCommand(address);
019B 90BB18    1004            mov     dptr,#_LCDprint_address_1_88
019E E0        1005            movx    a,@dptr
019F F582      1006            mov     dpl,a
01A1 C002      1007            push    ar2
01A3 C003      1008            push    ar3
01A5 C004      1009            push    ar4
01A7 120000    1010            lcall   _WriteCommand
01AA           1011   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:225: waitms(5);
01AA 900005    1012            mov     dptr,#0x0005
01AD 120000    1013            lcall   _waitms
01B0 D004      1014            pop     ar4
01B2 D003      1015            pop     ar3
01B4 D002      1016            pop     ar2
01B6           1017   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:226: for(j=0; string[j]!=0; j++)         WriteData(string[j]);// Write the message
01B6 7D00      1018            mov     r5,#0x00
01B8 7E00      1019            mov     r6,#0x00
01BA           1020   L012006?:
01BA ED        1021            mov     a,r5
01BB 2A        1022            add     a,r2
01BC FF        1023            mov     r7,a
01BD EE        1024            mov     a,r6
01BE 3B        1025            addc    a,r3
01BF F8        1026            mov     r0,a
01C0 8C01      1027            mov     ar1,r4
01C2 8F82      1028            mov     dpl,r7
01C4 8883      1029            mov     dph,r0
01C6 89F0      1030            mov     b,r1
01C8 120000    1031            lcall   __gptrget
01CB FF        1032            mov     r7,a
01CC 6000      1033            jz      L012009?
01CE 8F82      1034            mov     dpl,r7
01D0 C002      1035            push    ar2
01D2 C003      1036            push    ar3
01D4 C004      1037            push    ar4
01D6 C005      1038            push    ar5
01D8 C006      1039            push    ar6
01DA 120000    1040            lcall   _WriteData
01DD D006      1041            pop     ar6
01DF D005      1042            pop     ar5
01E1 D004      1043            pop     ar4
01E3 D003      1044            pop     ar3
01E5 D002      1045            pop     ar2
01E7 0D        1046            inc     r5
01E8 BD0040    1047            cjne    r5,#0x00,L012006?
01EB 0E        1048            inc     r6
01EC 8000      1049            sjmp    L012006?
01EE           1050   L012009?:
01EE           1051   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:227: if(clear) for(; j<CHARS_PER_LINE; j++) WriteData(' '); // Clear the rest of the line
01EE 309000    1052            jnb     _LCDprint_PARM_4,L012014?
01F1 8D02      1053            mov     ar2,r5
01F3 8E03      1054            mov     ar3,r6
01F5           1055   L012010?:
01F5 C3        1056            clr     c
01F6 EA        1057            mov     a,r2
01F7 9410      1058            subb    a,#0x10
01F9 EB        1059            mov     a,r3
01FA 6480      1060            xrl     a,#0x80
01FC 9480      1061            subb    a,#0x80
01FE 5000      1062            jnc     L012014?
0200 758220    1063            mov     dpl,#0x20
0203 C002      1064            push    ar2
0205 C003      1065            push    ar3
0207 120000    1066            lcall   _WriteData
020A D003      1067            pop     ar3
020C D002      1068            pop     ar2
020E 0A        1069            inc     r2
020F BA0040    1070            cjne    r2,#0x00,L012010?
0212 0B        1071            inc     r3
0213 8000      1072            sjmp    L012010?
0215           1073   L012014?:
0215 22        1074            ret
0216           1075   ;------------------------------------------------------------
0216           1076   ;Allocation info for local variables in function 'Read_Pin'
0216           1077   ;------------------------------------------------------------
0216           1078   ;mask                      Allocated with name '_Read_Pin_mask_1_92'
0216           1079   ;result                    Allocated with name '_Read_Pin_result_1_92'
0216           1080   ;pin                       Allocated to registers r2 
0216           1081   ;------------------------------------------------------------
0216           1082   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:230: bit Read_Pin (unsigned char pin)
0216           1083   ;        -----------------------------------------
0216           1084   ;         function Read_Pin
0216           1085   ;        -----------------------------------------
0216           1086   _Read_Pin:
0216 AA82      1087            mov     r2,dpl
0218           1088   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:234: mask=(1<<(pin&0x7));
0218 7407      1089            mov     a,#0x07
021A 5A        1090            anl     a,r2
021B F5F0      1091            mov     b,a
021D 05F0      1092            inc     b
021F 7401      1093            mov     a,#0x01
0221 8000      1094            sjmp    L013012?
0223           1095   L013010?:
0223 25E0      1096            add     a,acc
0225           1097   L013012?:
0225 D5F0C0    1098            djnz    b,L013010?
0228 FB        1099            mov     r3,a
0229           1100   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:235: switch(pin/0x10)
0229 EA        1101            mov     a,r2
022A C4        1102            swap    a
022B 540F      1103            anl     a,#0x0f
022D FA        1104            mov  r2,a
022E 24FC      1105            add     a,#0xff - 0x03
0230 4000      1106            jc      L013002?
0232 EA        1107            mov     a,r2
0233 2A        1108            add     a,r2
0234 2A        1109            add     a,r2
0235 90C440    1110            mov     dptr,#L013014?
0238 73        1111            jmp     @a+dptr
0239           1112   L013014?:
0239 020000    1113            ljmp    L013002?
023C 020000    1114            ljmp    L013003?
023F 020000    1115            ljmp    L013004?
0242 020000    1116            ljmp    L013005?
0245           1117   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:238: case 0: result = P0 & mask; break;
0245           1118   L013002?:
0245 90BB68    1119            mov     dptr,#_Read_Pin_result_1_92
0248 EB        1120            mov     a,r3
0249 5580      1121            anl     a,_P0
024B F0        1122            movx    @dptr,a
024C           1123   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:239: case 1: result = P1 & mask; break;
024C 8000      1124            sjmp    L013006?
024E           1125   L013003?:
024E 90BB68    1126            mov     dptr,#_Read_Pin_result_1_92
0251 EB        1127            mov     a,r3
0252 5590      1128            anl     a,_P1
0254 F0        1129            movx    @dptr,a
0255           1130   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:240: case 2: result = P2 & mask; break; 
0255 8000      1131            sjmp    L013006?
0257           1132   L013004?:
0257 90BB68    1133            mov     dptr,#_Read_Pin_result_1_92
025A EB        1134            mov     a,r3
025B 55A0      1135            anl     a,_P2
025D F0        1136            movx    @dptr,a
025E           1137   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:241: case 3: result = P3 & mask; break; 
025E 8000      1138            sjmp    L013006?
0260           1139   L013005?:
0260 90BB68    1140            mov     dptr,#_Read_Pin_result_1_92
0263 EB        1141            mov     a,r3
0264 55B0      1142            anl     a,_P3
0266 F0        1143            movx    @dptr,a
0267           1144   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:242: }
0267           1145   L013006?:
0267           1146   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:243: return (result?1:0);
0267 90BB68    1147            mov     dptr,#_Read_Pin_result_1_92
026A E0        1148            movx    a,@dptr
026B 24FF      1149            add     a,#0xff
026D 92C8      1150            mov  _Read_Pin_sloc0_1_0,c
026F 22        1151            ret
0270           1152   ;------------------------------------------------------------
0270           1153   ;Allocation info for local variables in function 'ReadButtonDebounced'
0270           1154   ;------------------------------------------------------------
0270           1155   ;pin                       Allocated to registers r2 
0270           1156   ;------------------------------------------------------------
0270           1157   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:246: bit ReadButtonDebounced(unsigned char pin)
0270           1158   ;        -----------------------------------------
0270           1159   ;         function ReadButtonDebounced
0270           1160   ;        -----------------------------------------
0270           1161   _ReadButtonDebounced:
0270           1162   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:248: if (Read_Pin(pin) == 0) 
0270 AA82      1163            mov  r2,dpl
0272 C002      1164            push    ar2
0274 120000    1165            lcall   _Read_Pin
0277 D002      1166            pop     ar2
0279 4000      1167            jc      L014007?
027B           1168   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:250: waitms(10);
027B 90000A    1169            mov     dptr,#0x000A
027E C002      1170            push    ar2
0280 120000    1171            lcall   _waitms
0283 D002      1172            pop     ar2
0285           1173   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:251: while (Read_Pin(pin) == 0) // check again
0285           1174   L014001?:
0285 8A82      1175            mov     dpl,r2
0287 C002      1176            push    ar2
0289 120000    1177            lcall   _Read_Pin
028C E4        1178            clr     a
028D 33        1179            rlc     a
028E D002      1180            pop     ar2
0290 6000      1181            jz      L014001?
0292           1182   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:255: waitms(10); 
0292 90000A    1183            mov     dptr,#0x000A
0295 C002      1184            push    ar2
0297 120000    1185            lcall   _waitms
029A D002      1186            pop     ar2
029C           1187   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:256: if (Read_Pin(pin) == 1){
029C 8A82      1188            mov     dpl,r2
029E 120000    1189            lcall   _Read_Pin
02A1 E4        1190            clr     a
02A2 33        1191            rlc     a
02A3 FA        1192            mov     r2,a
02A4 BA0180    1193            cjne    r2,#0x01,L014007?
02A7           1194   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:257: return 1;
02A7 D3        1195            setb    c
02A8 22        1196            ret
02A9           1197   L014007?:
02A9           1198   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:261: return 0; 
02A9 C3        1199            clr     c
02AA 22        1200            ret
02AB           1201   ;------------------------------------------------------------
02AB           1202   ;Allocation info for local variables in function 'Set_Pin_Input'
02AB           1203   ;------------------------------------------------------------
02AB           1204   ;mask                      Allocated with name '_Set_Pin_Input_mask_1_100'
02AB           1205   ;pin                       Allocated to registers r2 
02AB           1206   ;------------------------------------------------------------
02AB           1207   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:264: void Set_Pin_Input (unsigned char pin)
02AB           1208   ;        -----------------------------------------
02AB           1209   ;         function Set_Pin_Input
02AB           1210   ;        -----------------------------------------
02AB           1211   _Set_Pin_Input:
02AB AA82      1212            mov     r2,dpl
02AD           1213   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:268: mask=(1<<(pin&0x7));
02AD 7407      1214            mov     a,#0x07
02AF 5A        1215            anl     a,r2
02B0 F5F0      1216            mov     b,a
02B2 05F0      1217            inc     b
02B4 7401      1218            mov     a,#0x01
02B6 8000      1219            sjmp    L015011?
02B8           1220   L015009?:
02B8 25E0      1221            add     a,acc
02BA           1222   L015011?:
02BA D5F040    1223            djnz    b,L015009?
02BD           1224   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:269: mask=~mask;
02BD F4        1225            cpl     a
02BE FB        1226            mov     r3,a
02BF           1227   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:270: switch(pin/0x10)
02BF EA        1228            mov     a,r2
02C0 C4        1229            swap    a
02C1 540F      1230            anl     a,#0x0f
02C3 FA        1231            mov  r2,a
02C4 24FC      1232            add     a,#0xff - 0x03
02C6 4000      1233            jc      L015006?
02C8 EA        1234            mov     a,r2
02C9 2A        1235            add     a,r2
02CA 2A        1236            add     a,r2
02CB 90C6C0    1237            mov     dptr,#L015013?
02CE 73        1238            jmp     @a+dptr
02CF           1239   L015013?:
02CF 020000    1240            ljmp    L015001?
02D2 020000    1241            ljmp    L015002?
02D5 020000    1242            ljmp    L015003?
02D8 020000    1243            ljmp    L015004?
02DB           1244   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:272: case 0: P0MDOUT &= mask; break;
02DB           1245   L015001?:
02DB EB        1246            mov     a,r3
02DC 52A4      1247            anl     _P0MDOUT,a
02DE           1248   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:273: case 1: P1MDOUT &= mask; break;
02DE 22        1249            ret
02DF           1250   L015002?:
02DF EB        1251            mov     a,r3
02E0 52A5      1252            anl     _P1MDOUT,a
02E2           1253   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:274: case 2: P2MDOUT &= mask; break; 
02E2 22        1254            ret
02E3           1255   L015003?:
02E3 EB        1256            mov     a,r3
02E4 52A6      1257            anl     _P2MDOUT,a
02E6           1258   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:275: case 3: P3MDOUT &= mask; break; 
02E6 22        1259            ret
02E7           1260   L015004?:
02E7 EB        1261            mov     a,r3
02E8 529C      1262            anl     _P3MDOUT,a
02EA           1263   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:276: }   
02EA           1264   L015006?:
02EA 22        1265            ret
02EB           1266   ;------------------------------------------------------------
02EB           1267   ;Allocation info for local variables in function 'InitADC'
02EB           1268   ;------------------------------------------------------------
02EB           1269   ;------------------------------------------------------------
02EB           1270   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:281: void InitADC (void)
02EB           1271   ;        -----------------------------------------
02EB           1272   ;         function InitADC
02EB           1273   ;        -----------------------------------------
02EB           1274   _InitADC:
02EB           1275   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:283: SFRPAGE = 0x00;
02EB 75A700    1276            mov     _SFRPAGE,#0x00
02EE           1277   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:284: ADEN=0; // Disable ADC
02EE C2EF      1278            clr     _ADEN
02F0           1279   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:289: (0x0 << 0) ; // Accumulate n conversions: 0x0: 1, 0x1:4, 0x2:8, 0x3:16, 0x4:32
02F0 75B280    1280            mov     _ADC0CN1,#0x80
02F3           1281   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:293: (0x0 << 2); // 0:SYSCLK ADCCLK = SYSCLK. 1:HFOSC0 ADCCLK = HFOSC0.
02F3 75BC20    1282            mov     _ADC0CF0,#0x20
02F6           1283   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:297: (0x1E << 0); // Conversion Tracking Time. Tadtk = ADTK / (Fsarclk)
02F6 75B91E    1284            mov     _ADC0CF1,#0x1E
02F9           1285   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:306: (0x0 << 0) ; // TEMPE. 0: Disable the Temperature Sensor. 1: Enable the Temperature Sensor.
02F9 75E800    1286            mov     _ADC0CN0,#0x00
02FC           1287   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:311: (0x1F << 0); // ADPWR. Power Up Delay Time. Tpwrtime = ((4 * (ADPWR + 1)) + 2) / (Fadcclk)
02FC 75DF3F    1288            mov     _ADC0CF2,#0x3F
02FF           1289   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:315: (0x0 << 0) ; // ADCM. 0x0: ADBUSY, 0x1: TIMER0, 0x2: TIMER2, 0x3: TIMER3, 0x4: CNVSTR, 0x5: CEX5, 0x6: TIMER4, 0x7: TIMER5, 0x8: CLU0, 0x9: CLU1, 0xA: CLU2, 0xB: CLU3
02FF 75B300    1290            mov     _ADC0CN2,#0x00
0302           1291   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:317: ADEN=1; // Enable ADC
0302 D2EF      1292            setb    _ADEN
0304 22        1293            ret
0305           1294   ;------------------------------------------------------------
0305           1295   ;Allocation info for local variables in function 'InitPinADC'
0305           1296   ;------------------------------------------------------------
0305           1297   ;mask                      Allocated with name '_InitPinADC_mask_1_105'
0305           1298   ;pinno                     Allocated with name '_InitPinADC_PARM_2'
0305           1299   ;portno                    Allocated to registers r2 
0305           1300   ;------------------------------------------------------------
0305           1301   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:320: void InitPinADC (unsigned char portno, unsigned char pinno)
0305           1302   ;        -----------------------------------------
0305           1303   ;         function InitPinADC
0305           1304   ;        -----------------------------------------
0305           1305   _InitPinADC:
0305 AA82      1306            mov     r2,dpl
0307           1307   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:324: mask=1<<pinno;
0307 8560F0    1308            mov     b,_InitPinADC_PARM_2
030A 05F0      1309            inc     b
030C 7401      1310            mov     a,#0x01
030E 8000      1311            sjmp    L017013?
0310           1312   L017011?:
0310 25E0      1313            add     a,acc
0312           1314   L017013?:
0312 D5F040    1315            djnz    b,L017011?
0315 FB        1316            mov     r3,a
0316           1317   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:326: SFRPAGE = 0x20;
0316 75A720    1318            mov     _SFRPAGE,#0x20
0319           1319   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:327: switch (portno)
0319 BA0080    1320            cjne    r2,#0x00,L017014?
031C 8000      1321            sjmp    L017001?
031E           1322   L017014?:
031E BA0100    1323            cjne    r2,#0x01,L017015?
0321 8000      1324            sjmp    L017002?
0323           1325   L017015?:
0323           1326   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:329: case 0:
0323 BA0280    1327            cjne    r2,#0x02,L017005?
0326 8000      1328            sjmp    L017003?
0328           1329   L017001?:
0328           1330   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:330: P0MDIN &= (~mask); // Set pin as analog input
0328 EB        1331            mov     a,r3
0329 F4        1332            cpl     a
032A FA        1333            mov     r2,a
032B 52F1      1334            anl     _P0MDIN,a
032D           1335   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:331: P0SKIP |= mask; // Skip Crossbar decoding for this pin
032D EB        1336            mov     a,r3
032E 42D4      1337            orl     _P0SKIP,a
0330           1338   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:332: break;
0330           1339   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:333: case 1:
0330 8000      1340            sjmp    L017005?
0332           1341   L017002?:
0332           1342   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:334: P1MDIN &= (~mask); // Set pin as analog input
0332 EB        1343            mov     a,r3
0333 F4        1344            cpl     a
0334 FA        1345            mov     r2,a
0335 52F2      1346            anl     _P1MDIN,a
0337           1347   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:335: P1SKIP |= mask; // Skip Crossbar decoding for this pin
0337 EB        1348            mov     a,r3
0338 42D5      1349            orl     _P1SKIP,a
033A           1350   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:336: break;
033A           1351   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:337: case 2:
033A 8000      1352            sjmp    L017005?
033C           1353   L017003?:
033C           1354   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:338: P2MDIN &= (~mask); // Set pin as analog input
033C EB        1355            mov     a,r3
033D F4        1356            cpl     a
033E FA        1357            mov     r2,a
033F 52F3      1358            anl     _P2MDIN,a
0341           1359   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:339: P2SKIP |= mask; // Skip Crossbar decoding for this pin
0341 EB        1360            mov     a,r3
0342 42CC      1361            orl     _P2SKIP,a
0344           1362   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:343: }
0344           1363   L017005?:
0344           1364   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:344: SFRPAGE = 0x00;
0344 75A700    1365            mov     _SFRPAGE,#0x00
0347 22        1366            ret
0348           1367   ;------------------------------------------------------------
0348           1368   ;Allocation info for local variables in function 'ADC_at_Pin'
0348           1369   ;------------------------------------------------------------
0348           1370   ;pin                       Allocated to registers 
0348           1371   ;------------------------------------------------------------
0348           1372   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:347: xdata unsigned int ADC_at_Pin(unsigned char pin)
0348           1373   ;        -----------------------------------------
0348           1374   ;         function ADC_at_Pin
0348           1375   ;        -----------------------------------------
0348           1376   _ADC_at_Pin:
0348 8582BB    1377            mov     _ADC0MX,dpl
034B           1378   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:350: ADINT = 0;
034B C2ED      1379            clr     _ADINT
034D           1380   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:351: ADBUSY = 1;     // Convert voltage at the pin
034D D2EC      1381            setb    _ADBUSY
034F           1382   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:352: while (!ADINT); // Wait for conversion to complete
034F           1383   L018001?:
034F 30ED00    1384            jnb     _ADINT,L018001?
0352           1385   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:353: return (ADC0);
0352 85BD82    1386            mov     dpl,_ADC0
0355 85BE83    1387            mov     dph,(_ADC0 >> 8)
0358 22        1388            ret
0359           1389   ;------------------------------------------------------------
0359           1390   ;Allocation info for local variables in function 'Volts_at_Pin'
0359           1391   ;------------------------------------------------------------
0359           1392   ;pin                       Allocated to registers r2 
0359           1393   ;------------------------------------------------------------
0359           1394   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:356: float Volts_at_Pin(unsigned char pin) 
0359           1395   ;        -----------------------------------------
0359           1396   ;         function Volts_at_Pin
0359           1397   ;        -----------------------------------------
0359           1398   _Volts_at_Pin:
0359           1399   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:358: return ((ADC_at_Pin(pin)*VDD)/0b_0011_1111_1111_1111);
0359 120000    1400            lcall   _ADC_at_Pin
035C 120000    1401            lcall   ___uint2fs
035F AA82      1402            mov     r2,dpl
0361 AB83      1403            mov     r3,dph
0363 ACF0      1404            mov     r4,b
0365 FD        1405            mov     r5,a
0366 C002      1406            push    ar2
0368 C003      1407            push    ar3
036A C004      1408            push    ar4
036C C005      1409            push    ar5
036E 9053F8    1410            mov     dptr,#0x53F8
0371 75F053    1411            mov     b,#0x53
0374 7440      1412            mov     a,#0x40
0376 120000    1413            lcall   ___fsmul
0379 AA82      1414            mov     r2,dpl
037B AB83      1415            mov     r3,dph
037D ACF0      1416            mov     r4,b
037F FD        1417            mov     r5,a
0380 E581      1418            mov     a,sp
0382 24FC      1419            add     a,#0xfc
0384 F581      1420            mov     sp,a
0386 E4        1421            clr     a
0387 C0E0      1422            push    acc
0389 74FC      1423            mov     a,#0xFC
038B C0E0      1424            push    acc
038D 747F      1425            mov     a,#0x7F
038F C0E0      1426            push    acc
0391 7446      1427            mov     a,#0x46
0393 C0E0      1428            push    acc
0395 8A82      1429            mov     dpl,r2
0397 8B83      1430            mov     dph,r3
0399 8CF0      1431            mov     b,r4
039B ED        1432            mov     a,r5
039C 120000    1433            lcall   ___fsdiv
039F AA82      1434            mov     r2,dpl
03A1 AB83      1435            mov     r3,dph
03A3 ACF0      1436            mov     r4,b
03A5 FD        1437            mov     r5,a
03A6 E581      1438            mov     a,sp
03A8 24FC      1439            add     a,#0xfc
03AA F581      1440            mov     sp,a
03AC 8A82      1441            mov     dpl,r2
03AE 8B83      1442            mov     dph,r3
03B0 8CF0      1443            mov     b,r4
03B2 ED        1444            mov     a,r5
03B3 22        1445            ret
03B4           1446   ;------------------------------------------------------------
03B4           1447   ;Allocation info for local variables in function 'ReadPeriod'
03B4           1448   ;------------------------------------------------------------
03B4           1449   ;period                    Allocated to registers r2 r3 r4 r5 
03B4           1450   ;------------------------------------------------------------
03B4           1451   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:361: float ReadPeriod(void)
03B4           1452   ;        -----------------------------------------
03B4           1453   ;         function ReadPeriod
03B4           1454   ;        -----------------------------------------
03B4           1455   _ReadPeriod:
03B4           1456   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:364: overflow_count = 0; 
03B4 901840    1457            mov     dptr,#_overflow_count
03B7 E4        1458            clr     a
03B8 F0        1459            movx    @dptr,a
03B9           1460   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:366: TR0 = 0; // make sure timer0 is stopped
03B9 C28C      1461            clr     _TR0
03BB           1462   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:367: TH0 = 0; TL0 = 0; TF0 = 0;
03BB 758C00    1463            mov     _TH0,#0x00
03BE 758A00    1464            mov     _TL0,#0x00
03C1 C28D      1465            clr     _TF0
03C3           1466   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:370: while(Phasor_ref == 1); // wait for the signal to be zero
03C3           1467   L020001?:
03C3 20A640    1468            jb      _P2_6,L020001?
03C6           1469   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:371: while(Phasor_ref == 0); // wait for the signal to be one
03C6           1470   L020004?:
03C6 30A680    1471            jnb     _P2_6,L020004?
03C9           1472   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:372: TR0 = 1; // start timing 
03C9 D28C      1473            setb    _TR0
03CB           1474   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:373: while(Phasor_ref == 1) // Wait for the signal to be zero
03CB           1475   L020009?:
03CB 30A600    1476            jnb     _P2_6,L020014?
03CE           1477   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:375: if(TF0==1) // Did the 16-bit timer overflow?
03CE           1478   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:377: TF0=0;
03CE 108D40    1479            jbc     _TF0,L020031?
03D1 8000      1480            sjmp    L020009?
03D3           1481   L020031?:
03D3           1482   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:378: overflow_count++;
03D3 901840    1483            mov     dptr,#_overflow_count
03D6 E0        1484            movx    a,@dptr
03D7 2401      1485            add     a,#0x01
03D9 F0        1486            movx    @dptr,a
03DA           1487   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:381: while(Phasor_ref == 0) // Wait for the signal to be one
03DA 8000      1488            sjmp    L020009?
03DC           1489   L020014?:
03DC 20A680    1490            jb      _P2_6,L020016?
03DF           1491   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:383: if(TF0==1) // Did the 16-bit timer overflow?
03DF           1492   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:385: TF0=0;
03DF 108DC0    1493            jbc     _TF0,L020033?
03E2 8000      1494            sjmp    L020014?
03E4           1495   L020033?:
03E4           1496   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:386: overflow_count++;
03E4 901840    1497            mov     dptr,#_overflow_count
03E7 E0        1498            movx    a,@dptr
03E8 2401      1499            add     a,#0x01
03EA F0        1500            movx    @dptr,a
03EB 8000      1501            sjmp    L020014?
03ED           1502   L020016?:
03ED           1503   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:389: TR0=0;
03ED C28C      1504            clr     _TR0
03EF           1505   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:391: period=(overflow_count * 65536.0 + TH0 * 256.0 + TL0) * (12.0 / SYSCLK);
03EF 901840    1506            mov     dptr,#_overflow_count
03F2 E0        1507            movx    a,@dptr
03F3 F582      1508            mov     dpl,a
03F5 120000    1509            lcall   ___uchar2fs
03F8 AA82      1510            mov     r2,dpl
03FA AB83      1511            mov     r3,dph
03FC ACF0      1512            mov     r4,b
03FE FD        1513            mov     r5,a
03FF C002      1514            push    ar2
0401 C003      1515            push    ar3
0403 C004      1516            push    ar4
0405 C005      1517            push    ar5
0407 900000    1518            mov     dptr,#0x0000
040A 75F080    1519            mov     b,#0x80
040D 7447      1520            mov     a,#0x47
040F 120000    1521            lcall   ___fsmul
0412 AA82      1522            mov     r2,dpl
0414 AB83      1523            mov     r3,dph
0416 ACF0      1524            mov     r4,b
0418 FD        1525            mov     r5,a
0419 E581      1526            mov     a,sp
041B 24FC      1527            add     a,#0xfc
041D F581      1528            mov     sp,a
041F 858C82    1529            mov     dpl,_TH0
0422 C002      1530            push    ar2
0424 C003      1531            push    ar3
0426 C004      1532            push    ar4
0428 C005      1533            push    ar5
042A 120000    1534            lcall   ___uchar2fs
042D AE82      1535            mov     r6,dpl
042F AF83      1536            mov     r7,dph
0431 A8F0      1537            mov     r0,b
0433 F9        1538            mov     r1,a
0434 C006      1539            push    ar6
0436 C007      1540            push    ar7
0438 C000      1541            push    ar0
043A C001      1542            push    ar1
043C 900000    1543            mov     dptr,#0x0000
043F 75F080    1544            mov     b,#0x80
0442 7443      1545            mov     a,#0x43
0444 120000    1546            lcall   ___fsmul
0447 AE82      1547            mov     r6,dpl
0449 AF83      1548            mov     r7,dph
044B A8F0      1549            mov     r0,b
044D F9        1550            mov     r1,a
044E E581      1551            mov     a,sp
0450 24FC      1552            add     a,#0xfc
0452 F581      1553            mov     sp,a
0454 D005      1554            pop     ar5
0456 D004      1555            pop     ar4
0458 D003      1556            pop     ar3
045A D002      1557            pop     ar2
045C C006      1558            push    ar6
045E C007      1559            push    ar7
0460 C000      1560            push    ar0
0462 C001      1561            push    ar1
0464 8A82      1562            mov     dpl,r2
0466 8B83      1563            mov     dph,r3
0468 8CF0      1564            mov     b,r4
046A ED        1565            mov     a,r5
046B 120000    1566            lcall   ___fsadd
046E AA82      1567            mov     r2,dpl
0470 AB83      1568            mov     r3,dph
0472 ACF0      1569            mov     r4,b
0474 FD        1570            mov     r5,a
0475 E581      1571            mov     a,sp
0477 24FC      1572            add     a,#0xfc
0479 F581      1573            mov     sp,a
047B AE8A      1574            mov     r6,_TL0
047D 7F00      1575            mov     r7,#0x00
047F 8E82      1576            mov     dpl,r6
0481 8F83      1577            mov     dph,r7
0483 C002      1578            push    ar2
0485 C003      1579            push    ar3
0487 C004      1580            push    ar4
0489 C005      1581            push    ar5
048B 120000    1582            lcall   ___sint2fs
048E AE82      1583            mov     r6,dpl
0490 AF83      1584            mov     r7,dph
0492 A8F0      1585            mov     r0,b
0494 F9        1586            mov     r1,a
0495 D005      1587            pop     ar5
0497 D004      1588            pop     ar4
0499 D003      1589            pop     ar3
049B D002      1590            pop     ar2
049D C006      1591            push    ar6
049F C007      1592            push    ar7
04A1 C000      1593            push    ar0
04A3 C001      1594            push    ar1
04A5 8A82      1595            mov     dpl,r2
04A7 8B83      1596            mov     dph,r3
04A9 8CF0      1597            mov     b,r4
04AB ED        1598            mov     a,r5
04AC 120000    1599            lcall   ___fsadd
04AF AA82      1600            mov     r2,dpl
04B1 AB83      1601            mov     r3,dph
04B3 ACF0      1602            mov     r4,b
04B5 FD        1603            mov     r5,a
04B6 E581      1604            mov     a,sp
04B8 24FC      1605            add     a,#0xfc
04BA F581      1606            mov     sp,a
04BC C002      1607            push    ar2
04BE C003      1608            push    ar3
04C0 C004      1609            push    ar4
04C2 C005      1610            push    ar5
04C4 90F4FC    1611            mov     dptr,#0xF4FC
04C7 75F032    1612            mov     b,#0x32
04CA 7434      1613            mov     a,#0x34
04CC 120000    1614            lcall   ___fsmul
04CF AA82      1615            mov     r2,dpl
04D1 AB83      1616            mov     r3,dph
04D3 ACF0      1617            mov     r4,b
04D5 FD        1618            mov     r5,a
04D6 E581      1619            mov     a,sp
04D8 24FC      1620            add     a,#0xfc
04DA F581      1621            mov     sp,a
04DC           1622   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:392: return period; 
04DC 8A82      1623            mov     dpl,r2
04DE 8B83      1624            mov     dph,r3
04E0 8CF0      1625            mov     b,r4
04E2 ED        1626            mov     a,r5
04E3 22        1627            ret
04E4           1628   ;------------------------------------------------------------
04E4           1629   ;Allocation info for local variables in function 'ReadPeak'
04E4           1630   ;------------------------------------------------------------
04E4           1631   ;vpeak                     Allocated with name '_ReadPeak_PARM_2'
04E4           1632   ;period                    Allocated to registers r2 r3 r4 r5 
04E4           1633   ;temp                      Allocated to registers r2 r3 r4 r5 
04E4           1634   ;delay_us                  Allocated with name '_ReadPeak_delay_us_1_118'
04E4           1635   ;------------------------------------------------------------
04E4           1636   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:396: void ReadPeak(float period, float *vpeak)
04E4           1637   ;        -----------------------------------------
04E4           1638   ;         function ReadPeak
04E4           1639   ;        -----------------------------------------
04E4           1640   _ReadPeak:
04E4 AA82      1641            mov     r2,dpl
04E6 AB83      1642            mov     r3,dph
04E8 ACF0      1643            mov     r4,b
04EA FD        1644            mov     r5,a
04EB           1645   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:398: float temp = period * 1e6 / 4; // Period/4 in us
04EB C002      1646            push    ar2
04ED C003      1647            push    ar3
04EF C004      1648            push    ar4
04F1 C005      1649            push    ar5
04F3 902400    1650            mov     dptr,#0x2400
04F6 75F074    1651            mov     b,#0x74
04F9 7449      1652            mov     a,#0x49
04FB 120000    1653            lcall   ___fsmul
04FE AA82      1654            mov     r2,dpl
0500 AB83      1655            mov     r3,dph
0502 ACF0      1656            mov     r4,b
0504 FD        1657            mov     r5,a
0505 E581      1658            mov     a,sp
0507 24FC      1659            add     a,#0xfc
0509 F581      1660            mov     sp,a
050B E4        1661            clr     a
050C C0E0      1662            push    acc
050E C0E0      1663            push    acc
0510 7480      1664            mov     a,#0x80
0512 C0E0      1665            push    acc
0514 7440      1666            mov     a,#0x40
0516 C0E0      1667            push    acc
0518 8A82      1668            mov     dpl,r2
051A 8B83      1669            mov     dph,r3
051C 8CF0      1670            mov     b,r4
051E ED        1671            mov     a,r5
051F 120000    1672            lcall   ___fsdiv
0522 AA82      1673            mov     r2,dpl
0524 AB83      1674            mov     r3,dph
0526 ACF0      1675            mov     r4,b
0528 FD        1676            mov     r5,a
0529 E581      1677            mov     a,sp
052B 24FC      1678            add     a,#0xfc
052D F581      1679            mov     sp,a
052F           1680   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:399: int delay_us = (int) temp; 
052F 8A82      1681            mov     dpl,r2
0531 8B83      1682            mov     dph,r3
0533 8CF0      1683            mov     b,r4
0535 ED        1684            mov     a,r5
0536 120000    1685            lcall   ___fs2sint
0539 8582F8    1686            mov     _ReadPeak_delay_us_1_118,dpl
053C 8583F9    1687            mov     (_ReadPeak_delay_us_1_118 + 1),dph
053F           1688   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:403: while(Phasor_ref == 1);
053F           1689   L021001?:
053F 20A600    1690            jb      _P2_6,L021001?
0542           1691   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:404: while(Phasor_ref == 0); 
0542           1692   L021004?:
0542 30A640    1693            jnb     _P2_6,L021004?
0545           1694   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:407: waitus(delay_us);
0545 85F882    1695            mov     dpl,_ReadPeak_delay_us_1_118
0548 85F983    1696            mov     dph,(_ReadPeak_delay_us_1_118 + 1)
054B 120000    1697            lcall   _waitus
054E           1698   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:408: vpeak[0] = Volts_at_Pin(QFP32_MUX_P2_3);
054E AC30      1699            mov     r4,_ReadPeak_PARM_2
0550 AD31      1700            mov     r5,(_ReadPeak_PARM_2 + 1)
0552 AE32      1701            mov     r6,(_ReadPeak_PARM_2 + 2)
0554 758210    1702            mov     dpl,#0x10
0557 C004      1703            push    ar4
0559 C005      1704            push    ar5
055B C006      1705            push    ar6
055D 120000    1706            lcall   _Volts_at_Pin
0560 AF82      1707            mov     r7,dpl
0562 A883      1708            mov     r0,dph
0564 A9F0      1709            mov     r1,b
0566 FA        1710            mov     r2,a
0567 D006      1711            pop     ar6
0569 D005      1712            pop     ar5
056B D004      1713            pop     ar4
056D 8C82      1714            mov     dpl,r4
056F 8D83      1715            mov     dph,r5
0571 8EF0      1716            mov     b,r6
0573 EF        1717            mov     a,r7
0574 120000    1718            lcall   __gptrput
0577 A3        1719            inc     dptr
0578 E8        1720            mov     a,r0
0579 120000    1721            lcall   __gptrput
057C A3        1722            inc     dptr
057D E9        1723            mov     a,r1
057E 120000    1724            lcall   __gptrput
0581 A3        1725            inc     dptr
0582 EA        1726            mov     a,r2
0583 120000    1727            lcall   __gptrput
0586           1728   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:410: while(Phasor_sig == 1);
0586           1729   L021007?:
0586 2094C0    1730            jb      _P1_4,L021007?
0589           1731   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:411: while(Phasor_sig == 0);
0589           1732   L021010?:
0589 309400    1733            jnb     _P1_4,L021010?
058C           1734   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:413: waitus(delay_us);
058C 85F882    1735            mov     dpl,_ReadPeak_delay_us_1_118
058F 85F983    1736            mov     dph,(_ReadPeak_delay_us_1_118 + 1)
0592 C004      1737            push    ar4
0594 C005      1738            push    ar5
0596 C006      1739            push    ar6
0598 120000    1740            lcall   _waitus
059B D006      1741            pop     ar6
059D D005      1742            pop     ar5
059F D004      1743            pop     ar4
05A1           1744   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:414: vpeak[1] = Volts_at_Pin(QFP32_MUX_P1_5); 
05A1 7404      1745            mov     a,#0x04
05A3 2C        1746            add     a,r4
05A4 FC        1747            mov     r4,a
05A5 E4        1748            clr     a
05A6 3D        1749            addc    a,r5
05A7 FD        1750            mov     r5,a
05A8 75820B    1751            mov     dpl,#0x0B
05AB C004      1752            push    ar4
05AD C005      1753            push    ar5
05AF C006      1754            push    ar6
05B1 120000    1755            lcall   _Volts_at_Pin
05B4 AA82      1756            mov     r2,dpl
05B6 AB83      1757            mov     r3,dph
05B8 AFF0      1758            mov     r7,b
05BA F8        1759            mov     r0,a
05BB D006      1760            pop     ar6
05BD D005      1761            pop     ar5
05BF D004      1762            pop     ar4
05C1 8C82      1763            mov     dpl,r4
05C3 8D83      1764            mov     dph,r5
05C5 8EF0      1765            mov     b,r6
05C7 EA        1766            mov     a,r2
05C8 120000    1767            lcall   __gptrput
05CB A3        1768            inc     dptr
05CC EB        1769            mov     a,r3
05CD 120000    1770            lcall   __gptrput
05D0 A3        1771            inc     dptr
05D1 EF        1772            mov     a,r7
05D2 120000    1773            lcall   __gptrput
05D5 A3        1774            inc     dptr
05D6 E8        1775            mov     a,r0
05D7 020000    1776            ljmp    __gptrput
05DA           1777   ;------------------------------------------------------------
05DA           1778   ;Allocation info for local variables in function 'ReadDiff'
05DA           1779   ;------------------------------------------------------------
05DA           1780   ;time_diff                 Allocated to registers r2 r3 r4 r5 
05DA           1781   ;------------------------------------------------------------
05DA           1782   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:419: float ReadDiff(void){
05DA           1783   ;        -----------------------------------------
05DA           1784   ;         function ReadDiff
05DA           1785   ;        -----------------------------------------
05DA           1786   _ReadDiff:
05DA           1787   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:422: TH0 = 0; 
05DA 758C00    1788            mov     _TH0,#0x00
05DD           1789   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:423: TL0 = 0;
05DD 758A00    1790            mov     _TL0,#0x00
05E0           1791   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:424: TR0 = 0; 
05E0 C28C      1792            clr     _TR0
05E2           1793   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:425: TF0 = 0;
05E2 C28D      1794            clr     _TF0
05E4           1795   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:426: overflow_count = 0;
05E4 901840    1796            mov     dptr,#_overflow_count
05E7 E4        1797            clr     a
05E8 F0        1798            movx    @dptr,a
05E9           1799   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:428: while(Phasor_ref == 1);
05E9           1800   L022001?:
05E9 20A640    1801            jb      _P2_6,L022001?
05EC           1802   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:429: while(Phasor_ref == 0);
05EC           1803   L022004?:
05EC 30A680    1804            jnb     _P2_6,L022004?
05EF           1805   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:430: TR0 = 1; 
05EF D28C      1806            setb    _TR0
05F1           1807   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:431: while(Phasor_sig == 1) // Wait for the signal to be zero
05F1           1808   L022009?:
05F1 309400    1809            jnb     _P1_4,L022014?
05F4           1810   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:433: if(TF0==1) // Did the 16-bit timer overflow?
05F4           1811   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:435: TF0=0;
05F4 108D40    1812            jbc     _TF0,L022031?
05F7 8000      1813            sjmp    L022009?
05F9           1814   L022031?:
05F9           1815   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:436: overflow_count++;
05F9 901840    1816            mov     dptr,#_overflow_count
05FC E0        1817            movx    a,@dptr
05FD 2401      1818            add     a,#0x01
05FF F0        1819            movx    @dptr,a
0600           1820   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:439: while(Phasor_sig == 0) // Wait for the signal to be one
0600 8000      1821            sjmp    L022009?
0602           1822   L022014?:
0602 209480    1823            jb      _P1_4,L022016?
0605           1824   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:441: if(TF0==1) // Did the 16-bit timer overflow?
0605           1825   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:443: TF0=0;
0605 108DC0    1826            jbc     _TF0,L022033?
0608 8000      1827            sjmp    L022014?
060A           1828   L022033?:
060A           1829   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:444: overflow_count++;
060A 901840    1830            mov     dptr,#_overflow_count
060D E0        1831            movx    a,@dptr
060E 2401      1832            add     a,#0x01
0610 F0        1833            movx    @dptr,a
0611 8000      1834            sjmp    L022014?
0613           1835   L022016?:
0613           1836   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:447: TR0=0;
0613 C28C      1837            clr     _TR0
0615           1838   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:448: time_diff=(overflow_count * 65536.0 + TH0 * 256.0 + TL0) * (12.0 / SYSCLK);
0615 901840    1839            mov     dptr,#_overflow_count
0618 E0        1840            movx    a,@dptr
0619 F582      1841            mov     dpl,a
061B 120000    1842            lcall   ___uchar2fs
061E AA82      1843            mov     r2,dpl
0620 AB83      1844            mov     r3,dph
0622 ACF0      1845            mov     r4,b
0624 FD        1846            mov     r5,a
0625 C002      1847            push    ar2
0627 C003      1848            push    ar3
0629 C004      1849            push    ar4
062B C005      1850            push    ar5
062D 900000    1851            mov     dptr,#0x0000
0630 75F080    1852            mov     b,#0x80
0633 7447      1853            mov     a,#0x47
0635 120000    1854            lcall   ___fsmul
0638 AA82      1855            mov     r2,dpl
063A AB83      1856            mov     r3,dph
063C ACF0      1857            mov     r4,b
063E FD        1858            mov     r5,a
063F E581      1859            mov     a,sp
0641 24FC      1860            add     a,#0xfc
0643 F581      1861            mov     sp,a
0645 858C82    1862            mov     dpl,_TH0
0648 C002      1863            push    ar2
064A C003      1864            push    ar3
064C C004      1865            push    ar4
064E C005      1866            push    ar5
0650 120000    1867            lcall   ___uchar2fs
0653 AE82      1868            mov     r6,dpl
0655 AF83      1869            mov     r7,dph
0657 A8F0      1870            mov     r0,b
0659 F9        1871            mov     r1,a
065A C006      1872            push    ar6
065C C007      1873            push    ar7
065E C000      1874            push    ar0
0660 C001      1875            push    ar1
0662 900000    1876            mov     dptr,#0x0000
0665 75F080    1877            mov     b,#0x80
0668 7443      1878            mov     a,#0x43
066A 120000    1879            lcall   ___fsmul
066D AE82      1880            mov     r6,dpl
066F AF83      1881            mov     r7,dph
0671 A8F0      1882            mov     r0,b
0673 F9        1883            mov     r1,a
0674 E581      1884            mov     a,sp
0676 24FC      1885            add     a,#0xfc
0678 F581      1886            mov     sp,a
067A D005      1887            pop     ar5
067C D004      1888            pop     ar4
067E D003      1889            pop     ar3
0680 D002      1890            pop     ar2
0682 C006      1891            push    ar6
0684 C007      1892            push    ar7
0686 C000      1893            push    ar0
0688 C001      1894            push    ar1
068A 8A82      1895            mov     dpl,r2
068C 8B83      1896            mov     dph,r3
068E 8CF0      1897            mov     b,r4
0690 ED        1898            mov     a,r5
0691 120000    1899            lcall   ___fsadd
0694 AA82      1900            mov     r2,dpl
0696 AB83      1901            mov     r3,dph
0698 ACF0      1902            mov     r4,b
069A FD        1903            mov     r5,a
069B E581      1904            mov     a,sp
069D 24FC      1905            add     a,#0xfc
069F F581      1906            mov     sp,a
06A1 AE8A      1907            mov     r6,_TL0
06A3 7F00      1908            mov     r7,#0x00
06A5 8E82      1909            mov     dpl,r6
06A7 8F83      1910            mov     dph,r7
06A9 C002      1911            push    ar2
06AB C003      1912            push    ar3
06AD C004      1913            push    ar4
06AF C005      1914            push    ar5
06B1 120000    1915            lcall   ___sint2fs
06B4 AE82      1916            mov     r6,dpl
06B6 AF83      1917            mov     r7,dph
06B8 A8F0      1918            mov     r0,b
06BA F9        1919            mov     r1,a
06BB D005      1920            pop     ar5
06BD D004      1921            pop     ar4
06BF D003      1922            pop     ar3
06C1 D002      1923            pop     ar2
06C3 C006      1924            push    ar6
06C5 C007      1925            push    ar7
06C7 C000      1926            push    ar0
06C9 C001      1927            push    ar1
06CB 8A82      1928            mov     dpl,r2
06CD 8B83      1929            mov     dph,r3
06CF 8CF0      1930            mov     b,r4
06D1 ED        1931            mov     a,r5
06D2 120000    1932            lcall   ___fsadd
06D5 AA82      1933            mov     r2,dpl
06D7 AB83      1934            mov     r3,dph
06D9 ACF0      1935            mov     r4,b
06DB FD        1936            mov     r5,a
06DC E581      1937            mov     a,sp
06DE 24FC      1938            add     a,#0xfc
06E0 F581      1939            mov     sp,a
06E2 C002      1940            push    ar2
06E4 C003      1941            push    ar3
06E6 C004      1942            push    ar4
06E8 C005      1943            push    ar5
06EA 90F4FC    1944            mov     dptr,#0xF4FC
06ED 75F032    1945            mov     b,#0x32
06F0 7434      1946            mov     a,#0x34
06F2 120000    1947            lcall   ___fsmul
06F5 AA82      1948            mov     r2,dpl
06F7 AB83      1949            mov     r3,dph
06F9 ACF0      1950            mov     r4,b
06FB FD        1951            mov     r5,a
06FC E581      1952            mov     a,sp
06FE 24FC      1953            add     a,#0xfc
0700 F581      1954            mov     sp,a
0702           1955   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:449: return time_diff; 
0702 8A82      1956            mov     dpl,r2
0704 8B83      1957            mov     dph,r3
0706 8CF0      1958            mov     b,r4
0708 ED        1959            mov     a,r5
0709 22        1960            ret
070A           1961   ;------------------------------------------------------------
070A           1962   ;Allocation info for local variables in function 'DisplayMenu'
070A           1963   ;------------------------------------------------------------
070A           1964   ;units                     Allocated with name '_DisplayMenu_PARM_2'
070A           1965   ;menu                      Allocated to registers r2 r3 
070A           1966   ;buff                      Allocated with name '_DisplayMenu_buff_1_126'
070A           1967   ;------------------------------------------------------------
070A           1968   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:453: void DisplayMenu(int menu, int units)
070A           1969   ;        -----------------------------------------
070A           1970   ;         function DisplayMenu
070A           1971   ;        -----------------------------------------
070A           1972   _DisplayMenu:
070A AA82      1973            mov     r2,dpl
070C AB83      1974            mov     r3,dph
070E           1975   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:457: switch(menu)
070E BA0000    1976            cjne    r2,#0x00,L023014?
0711 BB0000    1977            cjne    r3,#0x00,L023014?
0714 8000      1978            sjmp    L023001?
0716           1979   L023014?:
0716 BA0180    1980            cjne    r2,#0x01,L023015?
0719 BB0080    1981            cjne    r3,#0x00,L023015?
071C 020000    1982            ljmp    L023005?
071F           1983   L023015?:
071F BA0200    1984            cjne    r2,#0x02,L023016?
0722 BB0000    1985            cjne    r3,#0x00,L023016?
0725 020000    1986            ljmp    L023006?
0728           1987   L023016?:
0728 22        1988            ret
0729           1989   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:459: case 0:
0729           1990   L023001?:
0729           1991   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:460: if (units) // display peak
0729 E5E0      1992            mov     a,_DisplayMenu_PARM_2
072B 45E1      1993            orl     a,(_DisplayMenu_PARM_2 + 1)
072D 7000      1994            jnz     L023017?
072F 020000    1995            ljmp    L023003?
0732           1996   L023017?:
0732           1997   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:462: sprintf(buff, "Vr=%.1fV", vpeak[0]);
0732 901800    1998            mov     dptr,#_vpeak
0735 E0        1999            movx    a,@dptr
0736 FA        2000            mov     r2,a
0737 A3        2001            inc     dptr
0738 E0        2002            movx    a,@dptr
0739 FB        2003            mov     r3,a
073A A3        2004            inc     dptr
073B E0        2005            movx    a,@dptr
073C FC        2006            mov     r4,a
073D A3        2007            inc     dptr
073E E0        2008            movx    a,@dptr
073F FD        2009            mov     r5,a
0740 C002      2010            push    ar2
0742 C003      2011            push    ar3
0744 C004      2012            push    ar4
0746 C005      2013            push    ar5
0748 7400      2014            mov     a,#__str_0
074A C0E0      2015            push    acc
074C 74D3      2016            mov     a,#(__str_0 >> 8)
074E C0E0      2017            push    acc
0750 7480      2018            mov     a,#0x80
0752 C0E0      2019            push    acc
0754 74B8      2020            mov     a,#_DisplayMenu_buff_1_126
0756 C0E0      2021            push    acc
0758 74BB      2022            mov     a,#(_DisplayMenu_buff_1_126 >> 8)
075A C0E0      2023            push    acc
075C E4        2024            clr     a
075D C0E0      2025            push    acc
075F 120000    2026            lcall   _sprintf
0762 E581      2027            mov     a,sp
0764 24F6      2028            add     a,#0xf6
0766 F581      2029            mov     sp,a
0768           2030   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:463: LCDprint(buff, 1, 0, 1);
0768 75D001    2031            mov     _LCDprint_PARM_2,#0x01
076B 758000    2032            mov     _LCDprint_PARM_3,#0x00
076E D290      2033            setb    _LCDprint_PARM_4
0770 90BBB8    2034            mov     dptr,#_DisplayMenu_buff_1_126
0773 75F000    2035            mov     b,#0x00
0776 120000    2036            lcall   _LCDprint
0779           2037   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:464: sprintf(buff, "Vs=%.1fV", vpeak[1]);
0779 901804    2038            mov     dptr,#(_vpeak + 0x0004)
077C E0        2039            movx    a,@dptr
077D FA        2040            mov     r2,a
077E A3        2041            inc     dptr
077F E0        2042            movx    a,@dptr
0780 FB        2043            mov     r3,a
0781 A3        2044            inc     dptr
0782 E0        2045            movx    a,@dptr
0783 FC        2046            mov     r4,a
0784 A3        2047            inc     dptr
0785 E0        2048            movx    a,@dptr
0786 FD        2049            mov     r5,a
0787 C002      2050            push    ar2
0789 C003      2051            push    ar3
078B C004      2052            push    ar4
078D C005      2053            push    ar5
078F 7480      2054            mov     a,#__str_1
0791 C0E0      2055            push    acc
0793 74D3      2056            mov     a,#(__str_1 >> 8)
0795 C0E0      2057            push    acc
0797 7480      2058            mov     a,#0x80
0799 C0E0      2059            push    acc
079B 74B8      2060            mov     a,#_DisplayMenu_buff_1_126
079D C0E0      2061            push    acc
079F 74BB      2062            mov     a,#(_DisplayMenu_buff_1_126 >> 8)
07A1 C0E0      2063            push    acc
07A3 E4        2064            clr     a
07A4 C0E0      2065            push    acc
07A6 120000    2066            lcall   _sprintf
07A9 E581      2067            mov     a,sp
07AB 24F6      2068            add     a,#0xf6
07AD F581      2069            mov     sp,a
07AF           2070   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:465: LCDprint(buff, 2, 0, 1);
07AF 75D002    2071            mov     _LCDprint_PARM_2,#0x02
07B2 758000    2072            mov     _LCDprint_PARM_3,#0x00
07B5 D290      2073            setb    _LCDprint_PARM_4
07B7 90BBB8    2074            mov     dptr,#_DisplayMenu_buff_1_126
07BA 75F000    2075            mov     b,#0x00
07BD           2076   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:467: break; 
07BD 020000    2077            ljmp    _LCDprint
07C0           2078   L023003?:
07C0           2079   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:472: sprintf(buff, "%.1f",phase_diff);
07C0 9017C0    2080            mov     dptr,#_phase_diff
07C3 E0        2081            movx    a,@dptr
07C4 C0E0      2082            push    acc
07C6 A3        2083            inc     dptr
07C7 E0        2084            movx    a,@dptr
07C8 C0E0      2085            push    acc
07CA A3        2086            inc     dptr
07CB E0        2087            movx    a,@dptr
07CC C0E0      2088            push    acc
07CE A3        2089            inc     dptr
07CF E0        2090            movx    a,@dptr
07D0 C0E0      2091            push    acc
07D2 74C0      2092            mov     a,#__str_2
07D4 C0E0      2093            push    acc
07D6 74D3      2094            mov     a,#(__str_2 >> 8)
07D8 C0E0      2095            push    acc
07DA 7480      2096            mov     a,#0x80
07DC C0E0      2097            push    acc
07DE 74B8      2098            mov     a,#_DisplayMenu_buff_1_126
07E0 C0E0      2099            push    acc
07E2 74BB      2100            mov     a,#(_DisplayMenu_buff_1_126 >> 8)
07E4 C0E0      2101            push    acc
07E6 E4        2102            clr     a
07E7 C0E0      2103            push    acc
07E9 120000    2104            lcall   _sprintf
07EC E581      2105            mov     a,sp
07EE 24F6      2106            add     a,#0xf6
07F0 F581      2107            mov     sp,a
07F2           2108   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:473: LCDprint(buff, 2, 0, 1);
07F2 75D002    2109            mov     _LCDprint_PARM_2,#0x02
07F5 758000    2110            mov     _LCDprint_PARM_3,#0x00
07F8 D290      2111            setb    _LCDprint_PARM_4
07FA 90BBB8    2112            mov     dptr,#_DisplayMenu_buff_1_126
07FD 75F000    2113            mov     b,#0x00
0800           2114   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:477: break; 
0800           2115   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:480: case 1: // main menu 
0800 020000    2116            ljmp    _LCDprint
0803           2117   L023005?:
0803           2118   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:481: LCDprint("Phasor", 1, 4, 1);
0803 75D001    2119            mov     _LCDprint_PARM_2,#0x01
0806 758004    2120            mov     _LCDprint_PARM_3,#0x04
0809 D290      2121            setb    _LCDprint_PARM_4
080B 90D400    2122            mov     dptr,#__str_3
080E 75F080    2123            mov     b,#0x80
0811 120000    2124            lcall   _LCDprint
0814           2125   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:482: LCDprint("<    Meter     >", 2, 0, 1);
0814 75D002    2126            mov     _LCDprint_PARM_2,#0x02
0817 758000    2127            mov     _LCDprint_PARM_3,#0x00
081A D290      2128            setb    _LCDprint_PARM_4
081C 90D440    2129            mov     dptr,#__str_4
081F 75F080    2130            mov     b,#0x80
0822           2131   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:483: break;
0822           2132   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:484: case 2: 
0822 020000    2133            ljmp    _LCDprint
0825           2134   L023006?:
0825           2135   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:485: LCDprint("2", 1, 0, 1);
0825 75D001    2136            mov     _LCDprint_PARM_2,#0x01
0828 758000    2137            mov     _LCDprint_PARM_3,#0x00
082B D290      2138            setb    _LCDprint_PARM_4
082D 90D480    2139            mov     dptr,#__str_5
0830 75F080    2140            mov     b,#0x80
0833           2141   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:490: }
0833 020000    2142            ljmp    _LCDprint
0836           2143   ;------------------------------------------------------------
0836           2144   ;Allocation info for local variables in function 'main'
0836           2145   ;------------------------------------------------------------
0836           2146   ;sloc0                     Allocated with name '_main_sloc0_1_0'
0836           2147   ;sloc1                     Allocated with name '_main_sloc1_1_0'
0836           2148   ;v_rms                     Allocated with name '_main_v_rms_1_131'
0836           2149   ;units                     Allocated with name '_main_units_1_131'
0836           2150   ;period                    Allocated with name '_main_period_1_131'
0836           2151   ;time_diff                 Allocated with name '_main_time_diff_1_131'
0836           2152   ;menu                      Allocated with name '_main_menu_1_131'
0836           2153   ;------------------------------------------------------------
0836           2154   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:493: void main (void)
0836           2155   ;        -----------------------------------------
0836           2156   ;         function main
0836           2157   ;        -----------------------------------------
0836           2158   _main:
0836           2159   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:497: xdata int units = 0; 
0836 90BC58    2160            mov     dptr,#_main_units_1_131
0839 E4        2161            clr     a
083A F0        2162            movx    @dptr,a
083B A3        2163            inc     dptr
083C F0        2164            movx    @dptr,a
083D           2165   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:502: xdata int menu = 1; 
083D 90BCF8    2166            mov     dptr,#_main_menu_1_131
0840 7401      2167            mov     a,#0x01
0842 F0        2168            movx    @dptr,a
0843 E4        2169            clr     a
0844 A3        2170            inc     dptr
0845 F0        2171            movx    @dptr,a
0846           2172   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:504: TIMER0_Init();
0846 120000    2173            lcall   _TIMER0_Init
0849           2174   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:505: LCD_4BIT(); 
0849 120000    2175            lcall   _LCD_4BIT
084C           2176   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:508: InitPinADC(2,1);
084C 756001    2177            mov     _InitPinADC_PARM_2,#0x01
084F 758202    2178            mov     dpl,#0x02
0852 120000    2179            lcall   _InitPinADC
0855           2180   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:509: InitPinADC(2,2);
0855 756002    2181            mov     _InitPinADC_PARM_2,#0x02
0858 758202    2182            mov     dpl,#0x02
085B 120000    2183            lcall   _InitPinADC
085E           2184   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:510: InitADC();
085E 120000    2185            lcall   _InitADC
0861           2186   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:511: Set_Pin_Input(0x31);
0861 758231    2187            mov     dpl,#0x31
0864 120000    2188            lcall   _Set_Pin_Input
0867           2189   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:512: Set_Pin_Input(0X25);
0867 758225    2190            mov     dpl,#0x25
086A 120000    2191            lcall   _Set_Pin_Input
086D           2192   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:513: waitms(500); // Give PuTTy a chance to start before sending
086D 9001F4    2193            mov     dptr,#0x01F4
0870 120000    2194            lcall   _waitms
0873           2195   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:514: printf("\x1b[2J"); // Clear screen using ANSI escape sequence.
0873 74C0      2196            mov     a,#__str_6
0875 C0E0      2197            push    acc
0877 74D4      2198            mov     a,#(__str_6 >> 8)
0879 C0E0      2199            push    acc
087B 7480      2200            mov     a,#0x80
087D C0E0      2201            push    acc
087F 120000    2202            lcall   _printf
0882 1581      2203            dec     sp
0884 1581      2204            dec     sp
0886 1581      2205            dec     sp
0888           2206   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:520: __FILE__, __DATE__, __TIME__);
0888           2207   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:519: "Compiled: %s, %s\n\n",
0888 7440      2208            mov     a,#__str_10
088A C0E0      2209            push    acc
088C 74D5      2210            mov     a,#(__str_10 >> 8)
088E C0E0      2211            push    acc
0890 7480      2212            mov     a,#0x80
0892 C0E0      2213            push    acc
0894 7480      2214            mov     a,#__str_9
0896 C0E0      2215            push    acc
0898 74D5      2216            mov     a,#(__str_9 >> 8)
089A C0E0      2217            push    acc
089C 7480      2218            mov     a,#0x80
089E C0E0      2219            push    acc
08A0 74C0      2220            mov     a,#__str_8
08A2 C0E0      2221            push    acc
08A4 74D5      2222            mov     a,#(__str_8 >> 8)
08A6 C0E0      2223            push    acc
08A8 7480      2224            mov     a,#0x80
08AA C0E0      2225            push    acc
08AC 7400      2226            mov     a,#__str_7
08AE C0E0      2227            push    acc
08B0 74D6      2228            mov     a,#(__str_7 >> 8)
08B2 C0E0      2229            push    acc
08B4 7480      2230            mov     a,#0x80
08B6 C0E0      2231            push    acc
08B8 120000    2232            lcall   _printf
08BB E581      2233            mov     a,sp
08BD 24F4      2234            add     a,#0xf4
08BF F581      2235            mov     sp,a
08C1           2236   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:521: while(1)
08C1           2237   L024022?:
08C1           2238   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:523: period = ReadPeriod();
08C1 120000    2239            lcall   _ReadPeriod
08C4 AA82      2240            mov     r2,dpl
08C6 AB83      2241            mov     r3,dph
08C8 ACF0      2242            mov     r4,b
08CA FD        2243            mov     r5,a
08CB           2244   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:525: ReadPeak(period, vpeak);
08CB 753000    2245            mov     _ReadPeak_PARM_2,#_vpeak
08CE 753118    2246            mov     (_ReadPeak_PARM_2 + 1),#(_vpeak >> 8)
08D1 753200    2247            mov     (_ReadPeak_PARM_2 + 2),#0x00
08D4 8A82      2248            mov     dpl,r2
08D6 8B83      2249            mov     dph,r3
08D8 8CF0      2250            mov     b,r4
08DA ED        2251            mov     a,r5
08DB C002      2252            push    ar2
08DD C003      2253            push    ar3
08DF C004      2254            push    ar4
08E1 C005      2255            push    ar5
08E3 120000    2256            lcall   _ReadPeak
08E6           2257   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:526: time_diff = ReadDiff();
08E6 120000    2258            lcall   _ReadDiff
08E9 858238    2259            mov     _main_sloc0_1_0,dpl
08EC 858339    2260            mov     (_main_sloc0_1_0 + 1),dph
08EF 85F03A    2261            mov     (_main_sloc0_1_0 + 2),b
08F2 F53B      2262            mov     (_main_sloc0_1_0 + 3),a
08F4 90BCA8    2263            mov     dptr,#_main_time_diff_1_131
08F7 E538      2264            mov     a,_main_sloc0_1_0
08F9 F0        2265            movx    @dptr,a
08FA A3        2266            inc     dptr
08FB E539      2267            mov     a,(_main_sloc0_1_0 + 1)
08FD F0        2268            movx    @dptr,a
08FE A3        2269            inc     dptr
08FF E53A      2270            mov     a,(_main_sloc0_1_0 + 2)
0901 F0        2271            movx    @dptr,a
0902 A3        2272            inc     dptr
0903 E53B      2273            mov     a,(_main_sloc0_1_0 + 3)
0905 F0        2274            movx    @dptr,a
0906           2275   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:528: v_rms[0] = vpeak[0] / sqrtf(2); 
0906 901800    2276            mov     dptr,#_vpeak
0909 E0        2277            movx    a,@dptr
090A F578      2278            mov     _main_sloc1_1_0,a
090C A3        2279            inc     dptr
090D E0        2280            movx    a,@dptr
090E F579      2281            mov     (_main_sloc1_1_0 + 1),a
0910 A3        2282            inc     dptr
0911 E0        2283            movx    a,@dptr
0912 F57A      2284            mov     (_main_sloc1_1_0 + 2),a
0914 A3        2285            inc     dptr
0915 E0        2286            movx    a,@dptr
0916 F57B      2287            mov     (_main_sloc1_1_0 + 3),a
0918 900000    2288            mov     dptr,#(0x00&0x00ff)
091B E4        2289            clr     a
091C F5F0      2290            mov     b,a
091E 7440      2291            mov     a,#0x40
0920 120000    2292            lcall   _sqrtf
0923 AE82      2293            mov     r6,dpl
0925 AF83      2294            mov     r7,dph
0927 A8F0      2295            mov     r0,b
0929 F9        2296            mov     r1,a
092A C006      2297            push    ar6
092C C007      2298            push    ar7
092E C000      2299            push    ar0
0930 C001      2300            push    ar1
0932 857882    2301            mov     dpl,_main_sloc1_1_0
0935 857983    2302            mov     dph,(_main_sloc1_1_0 + 1)
0938 857AF0    2303            mov     b,(_main_sloc1_1_0 + 2)
093B E57B      2304            mov     a,(_main_sloc1_1_0 + 3)
093D 120000    2305            lcall   ___fsdiv
0940 AE82      2306            mov     r6,dpl
0942 AF83      2307            mov     r7,dph
0944 A8F0      2308            mov     r0,b
0946 F9        2309            mov     r1,a
0947 E581      2310            mov     a,sp
0949 24FC      2311            add     a,#0xfc
094B F581      2312            mov     sp,a
094D 90BC08    2313            mov     dptr,#_main_v_rms_1_131
0950 EE        2314            mov     a,r6
0951 F0        2315            movx    @dptr,a
0952 A3        2316            inc     dptr
0953 EF        2317            mov     a,r7
0954 F0        2318            movx    @dptr,a
0955 A3        2319            inc     dptr
0956 E8        2320            mov     a,r0
0957 F0        2321            movx    @dptr,a
0958 A3        2322            inc     dptr
0959 E9        2323            mov     a,r1
095A F0        2324            movx    @dptr,a
095B           2325   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:529: v_rms[1] = vpeak[1] / sqrtf(2); 
095B 901804    2326            mov     dptr,#(_vpeak + 0x0004)
095E E0        2327            movx    a,@dptr
095F F578      2328            mov     _main_sloc1_1_0,a
0961 A3        2329            inc     dptr
0962 E0        2330            movx    a,@dptr
0963 F579      2331            mov     (_main_sloc1_1_0 + 1),a
0965 A3        2332            inc     dptr
0966 E0        2333            movx    a,@dptr
0967 F57A      2334            mov     (_main_sloc1_1_0 + 2),a
0969 A3        2335            inc     dptr
096A E0        2336            movx    a,@dptr
096B F57B      2337            mov     (_main_sloc1_1_0 + 3),a
096D 900000    2338            mov     dptr,#(0x00&0x00ff)
0970 E4        2339            clr     a
0971 F5F0      2340            mov     b,a
0973 7440      2341            mov     a,#0x40
0975 120000    2342            lcall   _sqrtf
0978 AE82      2343            mov     r6,dpl
097A AF83      2344            mov     r7,dph
097C A8F0      2345            mov     r0,b
097E F9        2346            mov     r1,a
097F C006      2347            push    ar6
0981 C007      2348            push    ar7
0983 C000      2349            push    ar0
0985 C001      2350            push    ar1
0987 857882    2351            mov     dpl,_main_sloc1_1_0
098A 857983    2352            mov     dph,(_main_sloc1_1_0 + 1)
098D 857AF0    2353            mov     b,(_main_sloc1_1_0 + 2)
0990 E57B      2354            mov     a,(_main_sloc1_1_0 + 3)
0992 120000    2355            lcall   ___fsdiv
0995 AE82      2356            mov     r6,dpl
0997 AF83      2357            mov     r7,dph
0999 A8F0      2358            mov     r0,b
099B F9        2359            mov     r1,a
099C E581      2360            mov     a,sp
099E 24FC      2361            add     a,#0xfc
09A0 F581      2362            mov     sp,a
09A2 D005      2363            pop     ar5
09A4 D004      2364            pop     ar4
09A6 D003      2365            pop     ar3
09A8 D002      2366            pop     ar2
09AA 90BC0C    2367            mov     dptr,#(_main_v_rms_1_131 + 0x0004)
09AD EE        2368            mov     a,r6
09AE F0        2369            movx    @dptr,a
09AF A3        2370            inc     dptr
09B0 EF        2371            mov     a,r7
09B1 F0        2372            movx    @dptr,a
09B2 A3        2373            inc     dptr
09B3 E8        2374            mov     a,r0
09B4 F0        2375            movx    @dptr,a
09B5 A3        2376            inc     dptr
09B6 E9        2377            mov     a,r1
09B7 F0        2378            movx    @dptr,a
09B8           2379   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:530: if (time_diff > (period / 2.0))
09B8 C002      2380            push    ar2
09BA C003      2381            push    ar3
09BC C004      2382            push    ar4
09BE C005      2383            push    ar5
09C0 E4        2384            clr     a
09C1 C0E0      2385            push    acc
09C3 C0E0      2386            push    acc
09C5 C0E0      2387            push    acc
09C7 7440      2388            mov     a,#0x40
09C9 C0E0      2389            push    acc
09CB 8A82      2390            mov     dpl,r2
09CD 8B83      2391            mov     dph,r3
09CF 8CF0      2392            mov     b,r4
09D1 ED        2393            mov     a,r5
09D2 120000    2394            lcall   ___fsdiv
09D5 AE82      2395            mov     r6,dpl
09D7 AF83      2396            mov     r7,dph
09D9 A8F0      2397            mov     r0,b
09DB F9        2398            mov     r1,a
09DC E581      2399            mov     a,sp
09DE 24FC      2400            add     a,#0xfc
09E0 F581      2401            mov     sp,a
09E2 C006      2402            push    ar6
09E4 C007      2403            push    ar7
09E6 C000      2404            push    ar0
09E8 C001      2405            push    ar1
09EA 853882    2406            mov     dpl,_main_sloc0_1_0
09ED 853983    2407            mov     dph,(_main_sloc0_1_0 + 1)
09F0 853AF0    2408            mov     b,(_main_sloc0_1_0 + 2)
09F3 E53B      2409            mov     a,(_main_sloc0_1_0 + 3)
09F5 120000    2410            lcall   ___fsgt
09F8 AE82      2411            mov     r6,dpl
09FA E581      2412            mov     a,sp
09FC 24FC      2413            add     a,#0xfc
09FE F581      2414            mov     sp,a
0A00 D005      2415            pop     ar5
0A02 D004      2416            pop     ar4
0A04 D003      2417            pop     ar3
0A06 D002      2418            pop     ar2
0A08 EE        2419            mov     a,r6
0A09 6000      2420            jz      L024002?
0A0B           2421   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:532: time_diff -= period; 
0A0B C002      2422            push    ar2
0A0D C003      2423            push    ar3
0A0F C004      2424            push    ar4
0A11 C005      2425            push    ar5
0A13 C002      2426            push    ar2
0A15 C003      2427            push    ar3
0A17 C004      2428            push    ar4
0A19 C005      2429            push    ar5
0A1B 853882    2430            mov     dpl,_main_sloc0_1_0
0A1E 853983    2431            mov     dph,(_main_sloc0_1_0 + 1)
0A21 853AF0    2432            mov     b,(_main_sloc0_1_0 + 2)
0A24 E53B      2433            mov     a,(_main_sloc0_1_0 + 3)
0A26 120000    2434            lcall   ___fssub
0A29 AE82      2435            mov     r6,dpl
0A2B AF83      2436            mov     r7,dph
0A2D A8F0      2437            mov     r0,b
0A2F F9        2438            mov     r1,a
0A30 E581      2439            mov     a,sp
0A32 24FC      2440            add     a,#0xfc
0A34 F581      2441            mov     sp,a
0A36 D005      2442            pop     ar5
0A38 D004      2443            pop     ar4
0A3A D003      2444            pop     ar3
0A3C D002      2445            pop     ar2
0A3E 90BCA8    2446            mov     dptr,#_main_time_diff_1_131
0A41 EE        2447            mov     a,r6
0A42 F0        2448            movx    @dptr,a
0A43 A3        2449            inc     dptr
0A44 EF        2450            mov     a,r7
0A45 F0        2451            movx    @dptr,a
0A46 A3        2452            inc     dptr
0A47 E8        2453            mov     a,r0
0A48 F0        2454            movx    @dptr,a
0A49 A3        2455            inc     dptr
0A4A E9        2456            mov     a,r1
0A4B F0        2457            movx    @dptr,a
0A4C           2458   L024002?:
0A4C           2459   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:534: phase_diff = time_diff * -360.0 / period; 
0A4C C002      2460            push    ar2
0A4E C003      2461            push    ar3
0A50 C004      2462            push    ar4
0A52 C005      2463            push    ar5
0A54 90BCA8    2464            mov     dptr,#_main_time_diff_1_131
0A57 E0        2465            movx    a,@dptr
0A58 C0E0      2466            push    acc
0A5A A3        2467            inc     dptr
0A5B E0        2468            movx    a,@dptr
0A5C C0E0      2469            push    acc
0A5E A3        2470            inc     dptr
0A5F E0        2471            movx    a,@dptr
0A60 C0E0      2472            push    acc
0A62 A3        2473            inc     dptr
0A63 E0        2474            movx    a,@dptr
0A64 C0E0      2475            push    acc
0A66 900000    2476            mov     dptr,#0x0000
0A69 75F0B4    2477            mov     b,#0xB4
0A6C 74C3      2478            mov     a,#0xC3
0A6E 120000    2479            lcall   ___fsmul
0A71 AE82      2480            mov     r6,dpl
0A73 AF83      2481            mov     r7,dph
0A75 A8F0      2482            mov     r0,b
0A77 F9        2483            mov     r1,a
0A78 E581      2484            mov     a,sp
0A7A 24FC      2485            add     a,#0xfc
0A7C F581      2486            mov     sp,a
0A7E D005      2487            pop     ar5
0A80 D004      2488            pop     ar4
0A82 D003      2489            pop     ar3
0A84 D002      2490            pop     ar2
0A86 C002      2491            push    ar2
0A88 C003      2492            push    ar3
0A8A C004      2493            push    ar4
0A8C C005      2494            push    ar5
0A8E C002      2495            push    ar2
0A90 C003      2496            push    ar3
0A92 C004      2497            push    ar4
0A94 C005      2498            push    ar5
0A96 8E82      2499            mov     dpl,r6
0A98 8F83      2500            mov     dph,r7
0A9A 88F0      2501            mov     b,r0
0A9C E9        2502            mov     a,r1
0A9D 120000    2503            lcall   ___fsdiv
0AA0 AE82      2504            mov     r6,dpl
0AA2 AF83      2505            mov     r7,dph
0AA4 A8F0      2506            mov     r0,b
0AA6 F9        2507            mov     r1,a
0AA7 E581      2508            mov     a,sp
0AA9 24FC      2509            add     a,#0xfc
0AAB F581      2510            mov     sp,a
0AAD D005      2511            pop     ar5
0AAF D004      2512            pop     ar4
0AB1 D003      2513            pop     ar3
0AB3 D002      2514            pop     ar2
0AB5 9017C0    2515            mov     dptr,#_phase_diff
0AB8 EE        2516            mov     a,r6
0AB9 F0        2517            movx    @dptr,a
0ABA A3        2518            inc     dptr
0ABB EF        2519            mov     a,r7
0ABC F0        2520            movx    @dptr,a
0ABD A3        2521            inc     dptr
0ABE E8        2522            mov     a,r0
0ABF F0        2523            movx    @dptr,a
0AC0 A3        2524            inc     dptr
0AC1 E9        2525            mov     a,r1
0AC2 F0        2526            movx    @dptr,a
0AC3           2527   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:535: frequency = 1.0/ period;
0AC3 C002      2528            push    ar2
0AC5 C003      2529            push    ar3
0AC7 C004      2530            push    ar4
0AC9 C005      2531            push    ar5
0ACB C002      2532            push    ar2
0ACD C003      2533            push    ar3
0ACF C004      2534            push    ar4
0AD1 C005      2535            push    ar5
0AD3 900000    2536            mov     dptr,#0x0000
0AD6 75F080    2537            mov     b,#0x80
0AD9 743F      2538            mov     a,#0x3F
0ADB 120000    2539            lcall   ___fsdiv
0ADE AE82      2540            mov     r6,dpl
0AE0 AF83      2541            mov     r7,dph
0AE2 A8F0      2542            mov     r0,b
0AE4 F9        2543            mov     r1,a
0AE5 E581      2544            mov     a,sp
0AE7 24FC      2545            add     a,#0xfc
0AE9 F581      2546            mov     sp,a
0AEB 901780    2547            mov     dptr,#_frequency
0AEE EE        2548            mov     a,r6
0AEF F0        2549            movx    @dptr,a
0AF0 A3        2550            inc     dptr
0AF1 EF        2551            mov     a,r7
0AF2 F0        2552            movx    @dptr,a
0AF3 A3        2553            inc     dptr
0AF4 E8        2554            mov     a,r0
0AF5 F0        2555            movx    @dptr,a
0AF6 A3        2556            inc     dptr
0AF7 E9        2557            mov     a,r1
0AF8 F0        2558            movx    @dptr,a
0AF9           2559   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:537: if (ReadButtonDebounced(Buttonleft)){
0AF9 758231    2560            mov     dpl,#0x31
0AFC 120000    2561            lcall   _ReadButtonDebounced
0AFF E4        2562            clr     a
0B00 33        2563            rlc     a
0B01 D005      2564            pop     ar5
0B03 D004      2565            pop     ar4
0B05 D003      2566            pop     ar3
0B07 D002      2567            pop     ar2
0B09 6000      2568            jz      L024019?
0B0B           2569   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:538: if (menu == 1) menu = 0; 
0B0B 90BCF8    2570            mov     dptr,#_main_menu_1_131
0B0E E0        2571            movx    a,@dptr
0B0F FE        2572            mov     r6,a
0B10 A3        2573            inc     dptr
0B11 E0        2574            movx    a,@dptr
0B12 FF        2575            mov     r7,a
0B13 BE01C0    2576            cjne    r6,#0x01,L024009?
0B16 BF00C0    2577            cjne    r7,#0x00,L024009?
0B19 90BCF8    2578            mov     dptr,#_main_menu_1_131
0B1C E4        2579            clr     a
0B1D F0        2580            movx    @dptr,a
0B1E A3        2581            inc     dptr
0B1F F0        2582            movx    @dptr,a
0B20 8000      2583            sjmp    L024010?
0B22           2584   L024009?:
0B22           2585   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:539: else if (menu == 2) menu = 1; 
0B22 BE0240    2586            cjne    r6,#0x02,L024006?
0B25 BF0040    2587            cjne    r7,#0x00,L024006?
0B28 90BCF8    2588            mov     dptr,#_main_menu_1_131
0B2B 7401      2589            mov     a,#0x01
0B2D F0        2590            movx    @dptr,a
0B2E E4        2591            clr     a
0B2F A3        2592            inc     dptr
0B30 F0        2593            movx    @dptr,a
0B31 8000      2594            sjmp    L024010?
0B33           2595   L024006?:
0B33           2596   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:540: else if (menu == 0) units = ~units; 
0B33 EE        2597            mov     a,r6
0B34 4F        2598            orl     a,r7
0B35 7000      2599            jnz     L024010?
0B37 90BC58    2600            mov     dptr,#_main_units_1_131
0B3A E0        2601            movx    a,@dptr
0B3B FE        2602            mov     r6,a
0B3C A3        2603            inc     dptr
0B3D E0        2604            movx    a,@dptr
0B3E FF        2605            mov     r7,a
0B3F 90BC58    2606            mov     dptr,#_main_units_1_131
0B42 EE        2607            mov     a,r6
0B43 F4        2608            cpl     a
0B44 F0        2609            movx    @dptr,a
0B45 EF        2610            mov     a,r7
0B46 F4        2611            cpl     a
0B47 A3        2612            inc     dptr
0B48 F0        2613            movx    @dptr,a
0B49           2614   L024010?:
0B49           2615   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:541: WriteCommand(0x01);
0B49 758201    2616            mov     dpl,#0x01
0B4C C002      2617            push    ar2
0B4E C003      2618            push    ar3
0B50 C004      2619            push    ar4
0B52 C005      2620            push    ar5
0B54 120000    2621            lcall   _WriteCommand
0B57           2622   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:542: waitms(5);
0B57 900005    2623            mov     dptr,#0x0005
0B5A 120000    2624            lcall   _waitms
0B5D D005      2625            pop     ar5
0B5F D004      2626            pop     ar4
0B61 D003      2627            pop     ar3
0B63 D002      2628            pop     ar2
0B65 8000      2629            sjmp    L024020?
0B67           2630   L024019?:
0B67           2631   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:545: else if (ReadButtonDebounced(Buttonright)){
0B67 758225    2632            mov     dpl,#0x25
0B6A C002      2633            push    ar2
0B6C C003      2634            push    ar3
0B6E C004      2635            push    ar4
0B70 C005      2636            push    ar5
0B72 120000    2637            lcall   _ReadButtonDebounced
0B75 E4        2638            clr     a
0B76 33        2639            rlc     a
0B77 D005      2640            pop     ar5
0B79 D004      2641            pop     ar4
0B7B D003      2642            pop     ar3
0B7D D002      2643            pop     ar2
0B7F 6000      2644            jz      L024020?
0B81           2645   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:546: if (menu == 0) menu = 1; 
0B81 90BCF8    2646            mov     dptr,#_main_menu_1_131
0B84 E0        2647            movx    a,@dptr
0B85 FE        2648            mov     r6,a
0B86 A3        2649            inc     dptr
0B87 E0        2650            movx    a,@dptr
0B88 FF        2651            mov     r7,a
0B89 4E        2652            orl     a,r6
0B8A 7000      2653            jnz     L024014?
0B8C 90BCF8    2654            mov     dptr,#_main_menu_1_131
0B8F 7401      2655            mov     a,#0x01
0B91 F0        2656            movx    @dptr,a
0B92 E4        2657            clr     a
0B93 A3        2658            inc     dptr
0B94 F0        2659            movx    @dptr,a
0B95 8000      2660            sjmp    L024015?
0B97           2661   L024014?:
0B97           2662   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:547: else if (menu == 1) menu = 2; 
0B97 BE0100    2663            cjne    r6,#0x01,L024015?
0B9A BF0000    2664            cjne    r7,#0x00,L024015?
0B9D 90BCF8    2665            mov     dptr,#_main_menu_1_131
0BA0 7402      2666            mov     a,#0x02
0BA2 F0        2667            movx    @dptr,a
0BA3 E4        2668            clr     a
0BA4 A3        2669            inc     dptr
0BA5 F0        2670            movx    @dptr,a
0BA6           2671   L024015?:
0BA6           2672   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:548: WriteCommand(0x01);
0BA6 758201    2673            mov     dpl,#0x01
0BA9 C002      2674            push    ar2
0BAB C003      2675            push    ar3
0BAD C004      2676            push    ar4
0BAF C005      2677            push    ar5
0BB1 120000    2678            lcall   _WriteCommand
0BB4           2679   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:549: waitms(5);
0BB4 900005    2680            mov     dptr,#0x0005
0BB7 120000    2681            lcall   _waitms
0BBA D005      2682            pop     ar5
0BBC D004      2683            pop     ar4
0BBE D003      2684            pop     ar3
0BC0 D002      2685            pop     ar2
0BC2           2686   L024020?:
0BC2           2687   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:551: DisplayMenu(menu, units);
0BC2 90BCF8    2688            mov     dptr,#_main_menu_1_131
0BC5 E0        2689            movx    a,@dptr
0BC6 FE        2690            mov     r6,a
0BC7 A3        2691            inc     dptr
0BC8 E0        2692            movx    a,@dptr
0BC9 FF        2693            mov     r7,a
0BCA 90BC58    2694            mov     dptr,#_main_units_1_131
0BCD E0        2695            movx    a,@dptr
0BCE F5E0      2696            mov     _DisplayMenu_PARM_2,a
0BD0 A3        2697            inc     dptr
0BD1 E0        2698            movx    a,@dptr
0BD2 F5E1      2699            mov     (_DisplayMenu_PARM_2 + 1),a
0BD4 8E82      2700            mov     dpl,r6
0BD6 8F83      2701            mov     dph,r7
0BD8 C002      2702            push    ar2
0BDA C003      2703            push    ar3
0BDC C004      2704            push    ar4
0BDE C005      2705            push    ar5
0BE0 120000    2706            lcall   _DisplayMenu
0BE3           2707   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:553: printf("Vp_ref = %.3fV, Vp_sig = %.3fV, Phase Diff = %.3fdeg, f = %.3fHz, T = %.3fs\r", vpeak[0], vpeak[1], phase_diff, frequency, period);        
0BE3 901804    2708            mov     dptr,#(_vpeak + 0x0004)
0BE6 E0        2709            movx    a,@dptr
0BE7 F578      2710            mov     _main_sloc1_1_0,a
0BE9 A3        2711            inc     dptr
0BEA E0        2712            movx    a,@dptr
0BEB F579      2713            mov     (_main_sloc1_1_0 + 1),a
0BED A3        2714            inc     dptr
0BEE E0        2715            movx    a,@dptr
0BEF F57A      2716            mov     (_main_sloc1_1_0 + 2),a
0BF1 A3        2717            inc     dptr
0BF2 E0        2718            movx    a,@dptr
0BF3 F57B      2719            mov     (_main_sloc1_1_0 + 3),a
0BF5 901800    2720            mov     dptr,#_vpeak
0BF8 E0        2721            movx    a,@dptr
0BF9 FE        2722            mov     r6,a
0BFA A3        2723            inc     dptr
0BFB E0        2724            movx    a,@dptr
0BFC FF        2725            mov     r7,a
0BFD A3        2726            inc     dptr
0BFE E0        2727            movx    a,@dptr
0BFF F8        2728            mov     r0,a
0C00 A3        2729            inc     dptr
0C01 E0        2730            movx    a,@dptr
0C02 F9        2731            mov     r1,a
0C03 901780    2732            mov     dptr,#_frequency
0C06 E0        2733            movx    a,@dptr
0C07 C0E0      2734            push    acc
0C09 A3        2735            inc     dptr
0C0A E0        2736            movx    a,@dptr
0C0B C0E0      2737            push    acc
0C0D A3        2738            inc     dptr
0C0E E0        2739            movx    a,@dptr
0C0F C0E0      2740            push    acc
0C11 A3        2741            inc     dptr
0C12 E0        2742            movx    a,@dptr
0C13 C0E0      2743            push    acc
0C15 9017C0    2744            mov     dptr,#_phase_diff
0C18 E0        2745            movx    a,@dptr
0C19 C0E0      2746            push    acc
0C1B A3        2747            inc     dptr
0C1C E0        2748            movx    a,@dptr
0C1D C0E0      2749            push    acc
0C1F A3        2750            inc     dptr
0C20 E0        2751            movx    a,@dptr
0C21 C0E0      2752            push    acc
0C23 A3        2753            inc     dptr
0C24 E0        2754            movx    a,@dptr
0C25 C0E0      2755            push    acc
0C27 C078      2756            push    _main_sloc1_1_0
0C29 C079      2757            push    (_main_sloc1_1_0 + 1)
0C2B C07A      2758            push    (_main_sloc1_1_0 + 2)
0C2D C07B      2759            push    (_main_sloc1_1_0 + 3)
0C2F C006      2760            push    ar6
0C31 C007      2761            push    ar7
0C33 C000      2762            push    ar0
0C35 C001      2763            push    ar1
0C37 7440      2764            mov     a,#__str_11
0C39 C0E0      2765            push    acc
0C3B 74D9      2766            mov     a,#(__str_11 >> 8)
0C3D C0E0      2767            push    acc
0C3F 7480      2768            mov     a,#0x80
0C41 C0E0      2769            push    acc
0C43 120000    2770            lcall   _printf
0C46 E581      2771            mov     a,sp
0C48 24E9      2772            add     a,#0xe9
0C4A F581      2773            mov     sp,a
0C4C           2774   ;        C:\Users\wongh\OneDrive - UBC\UBC\Year 2\ELEC 291\ELEC-291\Lab5\Lab5.c:554: waitms(500);
0C4C 9001F4    2775            mov     dptr,#0x01F4
0C4F 120000    2776            lcall   _waitms
0C52 020000    2777            ljmp    L024022?
0C55           2778            rseg R_CSEG
0C55           2779   
0000           2780            rseg R_XINIT
0000           2781   
0000           2782            rseg R_CONST
0000           2783   __str_0:
0000 56723D25  2784            db 'Vr=%.1fV'
     2E316656
0008 00        2785            db 0x00
0009           2786   __str_1:
0009 56733D25  2787            db 'Vs=%.1fV'
     2E316656
0011 00        2788            db 0x00
0012           2789   __str_2:
0012 252E3166  2790            db '%.1f'
0016 00        2791            db 0x00
0017           2792   __str_3:
0017 50686173  2793            db 'Phasor'
     6F72
001D 00        2794            db 0x00
001E           2795   __str_4:
001E 3C202020  2796            db '<    Meter     >'
     204D6574
     65722020
     2020203E
002E 00        2797            db 0x00
002F           2798   __str_5:
002F 32        2799            db '2'
0030 00        2800            db 0x00
0031           2801   __str_6:
0031 1B        2802            db 0x1B
0032 5B324A    2803            db '[2J'
0035 00        2804            db 0x00
0036           2805   __str_7:
0036 50686173  2806            db 'Phasor Meausrement'
     6F72204D
     65617573
     72656D65
     6E74
0048 0A        2807            db 0x0A
0049 54657374  2808            db 'Test signal: P1.5 and Reference signal: P'
     20736967
     6E616C3A
     2050312E
     3520616E
     64205265
     66657265
     6E636520
     7369676E
     616C3A20
     50
0072 322E33    2809            db '2.3'
0075 0A        2810            db 0x0A
0076 46696C65  2811            db 'File: %s'
     3A202573
007E 0A        2812            db 0x0A
007F 436F6D70  2813            db 'Compiled: %s, %s'
     696C6564
     3A202573
     2C202573
008F 0A        2814            db 0x0A
0090 0A        2815            db 0x0A
0091 00        2816            db 0x00
0092           2817   __str_8:
0092 433A      2818            db 'C:'
0094 5C        2819            db 0x5C
0095 55736572  2820            db 'Users'
     73
009A 5C        2821            db 0x5C
009B 776F6E67  2822            db 'wongh'
     68
00A0 5C        2823            db 0x5C
00A1 4F6E6544  2824            db 'OneDrive - UBC'
     72697665
     202D2055
     4243
00AF 5C        2825            db 0x5C
00B0 554243    2826            db 'UBC'
00B3 5C        2827            db 0x5C
00B4 59656172  2828            db 'Year 2'
     2032
00BA 5C        2829            db 0x5C
00BB 454C4543  2830            db 'ELEC 291'
     20323931
00C3 5C        2831            db 0x5C
00C4 454C4543  2832            db 'ELEC-291'
     2D323931
00CC 5C        2833            db 0x5C
00CD 4C        2834            db 'L'
00CE 616235    2835            db 'ab5'
00D1 5C        2836            db 0x5C
00D2 4C616235  2837            db 'Lab5.c'
     2E63
00D8 00        2838            db 0x00
00D9           2839   __str_9:
00D9 4D617220  2840            db 'Mar  4 2025'
     20342032
     303235
00E4 00        2841            db 0x00
00E5           2842   __str_10:
00E5 31363A35  2843            db '16:52:04'
     323A3034
00ED 00        2844            db 0x00
00EE           2845   __str_11:
00EE 56705F72  2846            db 'Vp_ref = %.3fV, Vp_sig = %.3fV, Phase Diff = %.3fdeg, f = %.'
     6566203D
     20252E33
     66562C20
     56705F73
     6967203D
     20252E33
     66562C20
     50686173
     65204469
     6666203D
     20252E33
     66646567
     2C206620
     3D20252E
012A 3366487A  2847            db '3fHz, T = %.3fs'
     2C205420
     3D20252E
     336673
0139 0D        2848            db 0x0D
013A 00        2849            db 0x00
013B           2850   
0003           2851            CSEG
0003           2852   
0003           2853   end
